// Build date: 2017-096T14:12:19

/*
* Author    Jonathan Lurie - http://me.jonahanlurie.fr
* License   MIT
* Link      https://github.com/jonathanlurie/pixbincodec
* Lab       MCIN - http://mcin.ca/ - Montreal Neurological Institute
*/
/*
 Chen, Yi-Cyuan 2014-2017
 @license MIT
*/
'use strict';var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(m,C,B){if(B.get||B.set)throw new TypeError("ES3 does not support getters and setters.");m!=Array.prototype&&m!=Object.prototype&&(m[C]=B.value)};$jscomp.getGlobal=function(m){return"undefined"!=typeof window&&window===m?m:"undefined"!=typeof global&&null!=global?global:m};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(m){return $jscomp.SYMBOL_PREFIX+(m||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var m=$jscomp.global.Symbol.iterator;m||(m=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[m]&&$jscomp.defineProperty(Array.prototype,m,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(m){var C=0;return $jscomp.iteratorPrototype(function(){return C<m.length?{done:!1,value:m[C++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(m){$jscomp.initSymbolIterator();m={next:m};m[$jscomp.global.Symbol.iterator]=function(){return this};return m};$jscomp.iteratorFromArray=function(m,C){$jscomp.initSymbolIterator();m instanceof String&&(m+="");var B=0,z={next:function(){if(B<m.length){var P=B++;return{value:C(P,m[P]),done:!1}}z.next=function(){return{done:!0,value:void 0}};return z.next()}};z[Symbol.iterator]=function(){return z};return z};
$jscomp.polyfill=function(m,C,B,z){if(C){B=$jscomp.global;m=m.split(".");for(z=0;z<m.length-1;z++){var P=m[z];P in B||(B[P]={});B=B[P]}m=m[m.length-1];z=B[m];C=C(z);C!=z&&null!=C&&$jscomp.defineProperty(B,m,{configurable:!0,writable:!0,value:C})}};$jscomp.polyfill("Array.prototype.keys",function(m){return m?m:function(){return $jscomp.iteratorFromArray(this,function(m){return m})}},"es6-impl","es3");
(function(m,C){"object"===typeof exports&&"undefined"!==typeof module?C(exports):"function"===typeof define&&define.amd?define(["exports"],C):C(m.pixbincodec=m.pixbincodec||{})})(this,function(m){function C(a,c){return c={exports:{}},a(c,c.exports),c.exports}function B(a){for(var c=a.length;0<=--c;)a[c]=0}function z(a,c,b,d,e){this.static_tree=a;this.extra_bits=c;this.extra_base=b;this.elems=d;this.max_length=e;this.has_stree=a&&a.length}function P(a,c){this.dyn_tree=a;this.max_code=0;this.stat_desc=
c}function ja(a,c){a.pending_buf[a.pending++]=c&255;a.pending_buf[a.pending++]=c>>>8&255}function L(a,c,b){a.bi_valid>16-b?(a.bi_buf|=c<<a.bi_valid&65535,ja(a,a.bi_buf),a.bi_buf=c>>16-a.bi_valid,a.bi_valid+=b-16):(a.bi_buf|=c<<a.bi_valid&65535,a.bi_valid+=b)}function Q(a,c,b){L(a,b[2*c],b[2*c+1])}function Ga(a,c){var b=0;do b|=a&1,a>>>=1,b<<=1;while(0<--c);return b>>>1}function Ha(a,c,b){var d=Array(16),e=0,g;for(g=1;15>=g;g++)d[g]=e=e+b[g-1]<<1;for(b=0;b<=c;b++)e=a[2*b+1],0!==e&&(a[2*b]=Ga(d[e]++,
e))}function Ia(a){var c;for(c=0;286>c;c++)a.dyn_ltree[2*c]=0;for(c=0;30>c;c++)a.dyn_dtree[2*c]=0;for(c=0;19>c;c++)a.bl_tree[2*c]=0;a.dyn_ltree[512]=1;a.opt_len=a.static_len=0;a.last_lit=a.matches=0}function Ja(a){8<a.bi_valid?ja(a,a.bi_buf):0<a.bi_valid&&(a.pending_buf[a.pending++]=a.bi_buf);a.bi_buf=0;a.bi_valid=0}function Ka(a,c,b,d){var e=2*c,g=2*b;return a[e]<a[g]||a[e]===a[g]&&d[c]<=d[b]}function xa(a,c,b){for(var d=a.heap[b],e=b<<1;e<=a.heap_len;){e<a.heap_len&&Ka(c,a.heap[e+1],a.heap[e],a.depth)&&
e++;if(Ka(c,d,a.heap[e],a.depth))break;a.heap[b]=a.heap[e];b=e;e<<=1}a.heap[b]=d}function La(a,c,b){var d,e,g=0,f,l;if(0!==a.last_lit){do d=a.pending_buf[a.d_buf+2*g]<<8|a.pending_buf[a.d_buf+2*g+1],e=a.pending_buf[a.l_buf+g],g++,0===d?Q(a,e,c):(f=ka[e],Q(a,f+256+1,c),l=ya[f],0!==l&&(e-=za[f],L(a,e,l)),d--,f=256>d?Y[d]:Y[256+(d>>>7)],Q(a,f,b),l=ua[f],0!==l&&(d-=va[f],L(a,d,l)));while(g<a.last_lit)}Q(a,256,c)}function Aa(a,c){var b=c.dyn_tree,d=c.stat_desc.static_tree,e=c.stat_desc.has_stree,g=c.stat_desc.elems,
f,l=-1,r;a.heap_len=0;a.heap_max=573;for(f=0;f<g;f++)0!==b[2*f]?(a.heap[++a.heap_len]=l=f,a.depth[f]=0):b[2*f+1]=0;for(;2>a.heap_len;)r=a.heap[++a.heap_len]=2>l?++l:0,b[2*r]=1,a.depth[r]=0,a.opt_len--,e&&(a.static_len-=d[2*r+1]);c.max_code=l;for(f=a.heap_len>>1;1<=f;f--)xa(a,b,f);r=g;do f=a.heap[1],a.heap[1]=a.heap[a.heap_len--],xa(a,b,1),d=a.heap[1],a.heap[--a.heap_max]=f,a.heap[--a.heap_max]=d,b[2*r]=b[2*f]+b[2*d],a.depth[r]=(a.depth[f]>=a.depth[d]?a.depth[f]:a.depth[d])+1,b[2*f+1]=b[2*d+1]=r,a.heap[1]=
r++,xa(a,b,1);while(2<=a.heap_len);a.heap[--a.heap_max]=a.heap[1];f=c.dyn_tree;r=c.max_code;var d=c.stat_desc.static_tree,e=c.stat_desc.has_stree,g=c.stat_desc.extra_bits,h=c.stat_desc.extra_base,n=c.stat_desc.max_length,y,t,k,p,m=0;for(t=0;15>=t;t++)a.bl_count[t]=0;f[2*a.heap[a.heap_max]+1]=0;for(c=a.heap_max+1;573>c;c++)y=a.heap[c],t=f[2*f[2*y+1]+1]+1,t>n&&(t=n,m++),f[2*y+1]=t,y>r||(a.bl_count[t]++,k=0,y>=h&&(k=g[y-h]),p=f[2*y],a.opt_len+=p*(t+k),e&&(a.static_len+=p*(d[2*y+1]+k)));if(0!==m){do{for(t=
n-1;0===a.bl_count[t];)t--;a.bl_count[t]--;a.bl_count[t+1]+=2;a.bl_count[n]--;m-=2}while(0<m);for(t=n;0!==t;t--)for(y=a.bl_count[t];0!==y;)d=a.heap[--c],d>r||(f[2*d+1]!==t&&(a.opt_len+=(t-f[2*d+1])*f[2*d],f[2*d+1]=t),y--)}Ha(b,l,a.bl_count)}function Ma(a,c,b){var d,e=-1,g,f=c[1],l=0,r=7,h=4;0===f&&(r=138,h=3);c[2*(b+1)+1]=65535;for(d=0;d<=b;d++)g=f,f=c[2*(d+1)+1],++l<r&&g===f||(l<h?a.bl_tree[2*g]+=l:0!==g?(g!==e&&a.bl_tree[2*g]++,a.bl_tree[32]++):10>=l?a.bl_tree[34]++:a.bl_tree[36]++,l=0,e=g,0===
f?(r=138,h=3):g===f?(r=6,h=3):(r=7,h=4))}function Na(a,c,b){var d,e=-1,g,f=c[1],l=0,r=7,h=4;0===f&&(r=138,h=3);for(d=0;d<=b;d++)if(g=f,f=c[2*(d+1)+1],!(++l<r&&g===f)){if(l<h){do Q(a,g,a.bl_tree);while(0!==--l)}else 0!==g?(g!==e&&(Q(a,g,a.bl_tree),l--),Q(a,16,a.bl_tree),L(a,l-3,2)):10>=l?(Q(a,17,a.bl_tree),L(a,l-3,3)):(Q(a,18,a.bl_tree),L(a,l-11,7));l=0;e=g;0===f?(r=138,h=3):g===f?(r=6,h=3):(r=7,h=4)}}function lb(a){var c=4093624447,b;for(b=0;31>=b;b++,c>>>=1)if(c&1&&0!==a.dyn_ltree[2*b])return 0;
if(0!==a.dyn_ltree[18]||0!==a.dyn_ltree[20]||0!==a.dyn_ltree[26])return 1;for(b=32;256>b;b++)if(0!==a.dyn_ltree[2*b])return 1;return 0}function Oa(a,c,b,d){L(a,0+(d?1:0),3);Ja(a);ja(a,b);ja(a,~b);w.arraySet(a.pending_buf,a.window,c,b,a.pending);a.pending+=b}function U(a,c){a.msg=ga[c];return c}function V(a){for(var c=a.length;0<=--c;)a[c]=0}function W(a){var c=a.state,b=c.pending;b>a.avail_out&&(b=a.avail_out);0!==b&&(w.arraySet(a.output,c.pending_buf,c.pending_out,b,a.next_out),a.next_out+=b,c.pending_out+=
b,a.total_out+=b,a.avail_out-=b,c.pending-=b,0===c.pending&&(c.pending_out=0))}function J(a,c){O._tr_flush_block(a,0<=a.block_start?a.block_start:-1,a.strstart-a.block_start,c);a.block_start=a.strstart;W(a.strm)}function v(a,c){a.pending_buf[a.pending++]=c}function la(a,c){a.pending_buf[a.pending++]=c>>>8&255;a.pending_buf[a.pending++]=c&255}function Pa(a,c){var b=a.max_chain_length,d=a.strstart,e,g=a.prev_length,f=a.nice_match,l=a.strstart>a.w_size-262?a.strstart-(a.w_size-262):0,r=a.window,h=a.w_mask,
n=a.prev,y=a.strstart+258,t=r[d+g-1],k=r[d+g];a.prev_length>=a.good_match&&(b>>=2);f>a.lookahead&&(f=a.lookahead);do if(e=c,r[e+g]===k&&r[e+g-1]===t&&r[e]===r[d]&&r[++e]===r[d+1]){d+=2;for(e++;r[++d]===r[++e]&&r[++d]===r[++e]&&r[++d]===r[++e]&&r[++d]===r[++e]&&r[++d]===r[++e]&&r[++d]===r[++e]&&r[++d]===r[++e]&&r[++d]===r[++e]&&d<y;);e=258-(y-d);d=y-258;if(e>g){a.match_start=c;g=e;if(e>=f)break;t=r[d+g-1];k=r[d+g]}}while((c=n[c&h])>l&&0!==--b);return g<=a.lookahead?g:a.lookahead}function Z(a){var c=
a.w_size,b,d,e,g;do{g=a.window_size-a.lookahead-a.strstart;if(a.strstart>=c+(c-262)){w.arraySet(a.window,a.window,c,c,0);a.match_start-=c;a.strstart-=c;a.block_start-=c;b=d=a.hash_size;do e=a.head[--b],a.head[b]=e>=c?e-c:0;while(--d);b=d=c;do e=a.prev[--b],a.prev[b]=e>=c?e-c:0;while(--d);g+=c}if(0===a.strm.avail_in)break;b=a.strm;d=a.window;e=a.strstart+a.lookahead;var f=b.avail_in;f>g&&(f=g);0===f?d=0:(b.avail_in-=f,w.arraySet(d,b.input,b.next_in,f,e),1===b.state.wrap?b.adler=ma(b.adler,d,f,e):2===
b.state.wrap&&(b.adler=I(b.adler,d,f,e)),b.next_in+=f,b.total_in+=f,d=f);a.lookahead+=d;if(3<=a.lookahead+a.insert)for(g=a.strstart-a.insert,a.ins_h=a.window[g],a.ins_h=(a.ins_h<<a.hash_shift^a.window[g+1])&a.hash_mask;a.insert&&!(a.ins_h=(a.ins_h<<a.hash_shift^a.window[g+3-1])&a.hash_mask,a.prev[g&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=g,g++,a.insert--,3>a.lookahead+a.insert););}while(262>a.lookahead&&0!==a.strm.avail_in)}function Ba(a,c){for(var b;;){if(262>a.lookahead){Z(a);if(262>a.lookahead&&
0===c)return 1;if(0===a.lookahead)break}b=0;3<=a.lookahead&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+3-1])&a.hash_mask,b=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);0!==b&&a.strstart-b<=a.w_size-262&&(a.match_length=Pa(a,b));if(3<=a.match_length)if(b=O._tr_tally(a,a.strstart-a.match_start,a.match_length-3),a.lookahead-=a.match_length,a.match_length<=a.max_lazy_match&&3<=a.lookahead){a.match_length--;do a.strstart++,a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+
3-1])&a.hash_mask,a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart;while(0!==--a.match_length);a.strstart++}else a.strstart+=a.match_length,a.match_length=0,a.ins_h=a.window[a.strstart],a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+1])&a.hash_mask;else b=O._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++;if(b&&(J(a,!1),0===a.strm.avail_out))return 1}a.insert=2>a.strstart?a.strstart:2;return 4===c?(J(a,!0),0===a.strm.avail_out?3:4):a.last_lit&&(J(a,!1),0===
a.strm.avail_out)?1:2}function ha(a,c){for(var b,d;;){if(262>a.lookahead){Z(a);if(262>a.lookahead&&0===c)return 1;if(0===a.lookahead)break}b=0;3<=a.lookahead&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+3-1])&a.hash_mask,b=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);a.prev_length=a.match_length;a.prev_match=a.match_start;a.match_length=2;0!==b&&a.prev_length<a.max_lazy_match&&a.strstart-b<=a.w_size-262&&(a.match_length=Pa(a,b),5>=a.match_length&&(1===a.strategy||
3===a.match_length&&4096<a.strstart-a.match_start)&&(a.match_length=2));if(3<=a.prev_length&&a.match_length<=a.prev_length){d=a.strstart+a.lookahead-3;b=O._tr_tally(a,a.strstart-1-a.prev_match,a.prev_length-3);a.lookahead-=a.prev_length-1;a.prev_length-=2;do++a.strstart<=d&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+3-1])&a.hash_mask,a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);while(0!==--a.prev_length);a.match_available=0;a.match_length=2;a.strstart++;if(b&&(J(a,
!1),0===a.strm.avail_out))return 1}else if(a.match_available){if((b=O._tr_tally(a,0,a.window[a.strstart-1]))&&J(a,!1),a.strstart++,a.lookahead--,0===a.strm.avail_out)return 1}else a.match_available=1,a.strstart++,a.lookahead--}a.match_available&&(O._tr_tally(a,0,a.window[a.strstart-1]),a.match_available=0);a.insert=2>a.strstart?a.strstart:2;return 4===c?(J(a,!0),0===a.strm.avail_out?3:4):a.last_lit&&(J(a,!1),0===a.strm.avail_out)?1:2}function mb(a,c){for(var b,d,e,g=a.window;;){if(258>=a.lookahead){Z(a);
if(258>=a.lookahead&&0===c)return 1;if(0===a.lookahead)break}a.match_length=0;if(3<=a.lookahead&&0<a.strstart&&(d=a.strstart-1,b=g[d],b===g[++d]&&b===g[++d]&&b===g[++d])){for(e=a.strstart+258;b===g[++d]&&b===g[++d]&&b===g[++d]&&b===g[++d]&&b===g[++d]&&b===g[++d]&&b===g[++d]&&b===g[++d]&&d<e;);a.match_length=258-(e-d);a.match_length>a.lookahead&&(a.match_length=a.lookahead)}3<=a.match_length?(b=O._tr_tally(a,1,a.match_length-3),a.lookahead-=a.match_length,a.strstart+=a.match_length,a.match_length=
0):(b=O._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++);if(b&&(J(a,!1),0===a.strm.avail_out))return 1}a.insert=0;return 4===c?(J(a,!0),0===a.strm.avail_out?3:4):a.last_lit&&(J(a,!1),0===a.strm.avail_out)?1:2}function nb(a,c){for(var b;;){if(0===a.lookahead&&(Z(a),0===a.lookahead)){if(0===c)return 1;break}a.match_length=0;b=O._tr_tally(a,0,a.window[a.strstart]);a.lookahead--;a.strstart++;if(b&&(J(a,!1),0===a.strm.avail_out))return 1}a.insert=0;return 4===c?(J(a,!0),0===a.strm.avail_out?
3:4):a.last_lit&&(J(a,!1),0===a.strm.avail_out)?1:2}function R(a,c,b,d,e){this.good_length=a;this.max_lazy=c;this.nice_length=b;this.max_chain=d;this.func=e}function ob(){this.strm=null;this.status=0;this.pending_buf=null;this.wrap=this.pending=this.pending_out=this.pending_buf_size=0;this.gzhead=null;this.gzindex=0;this.method=8;this.last_flush=-1;this.w_mask=this.w_bits=this.w_size=0;this.window=null;this.window_size=0;this.head=this.prev=null;this.nice_match=this.good_match=this.strategy=this.level=
this.max_lazy_match=this.max_chain_length=this.prev_length=this.lookahead=this.match_start=this.strstart=this.match_available=this.prev_match=this.match_length=this.block_start=this.hash_shift=this.hash_mask=this.hash_bits=this.hash_size=this.ins_h=0;this.dyn_ltree=new w.Buf16(1146);this.dyn_dtree=new w.Buf16(122);this.bl_tree=new w.Buf16(78);V(this.dyn_ltree);V(this.dyn_dtree);V(this.bl_tree);this.bl_desc=this.d_desc=this.l_desc=null;this.bl_count=new w.Buf16(16);this.heap=new w.Buf16(573);V(this.heap);
this.heap_max=this.heap_len=0;this.depth=new w.Buf16(573);V(this.depth);this.bi_valid=this.bi_buf=this.insert=this.matches=this.static_len=this.opt_len=this.d_buf=this.last_lit=this.lit_bufsize=this.l_buf=0}function Qa(a){var c;if(!a||!a.state)return U(a,-2);a.total_in=a.total_out=0;a.data_type=2;c=a.state;c.pending=0;c.pending_out=0;0>c.wrap&&(c.wrap=-c.wrap);c.status=c.wrap?42:113;a.adler=2===c.wrap?0:1;c.last_flush=0;O._tr_init(c);return 0}function Ra(a){var c=Qa(a);0===c&&(a=a.state,a.window_size=
2*a.w_size,V(a.head),a.max_lazy_match=ia[a.level].max_lazy,a.good_match=ia[a.level].good_length,a.nice_match=ia[a.level].nice_length,a.max_chain_length=ia[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=2,a.match_available=0,a.ins_h=0);return c}function Sa(a,c,b,d,e,g){if(!a)return-2;var f=1;-1===c&&(c=6);0>d?(f=0,d=-d):15<d&&(f=2,d-=16);if(1>e||9<e||8!==b||8>d||15<d||0>c||9<c||0>g||4<g)return U(a,-2);8===d&&(d=9);var l=new ob;a.state=l;l.strm=
a;l.wrap=f;l.gzhead=null;l.w_bits=d;l.w_size=1<<l.w_bits;l.w_mask=l.w_size-1;l.hash_bits=e+7;l.hash_size=1<<l.hash_bits;l.hash_mask=l.hash_size-1;l.hash_shift=~~((l.hash_bits+3-1)/3);l.window=new w.Buf8(2*l.w_size);l.head=new w.Buf16(l.hash_size);l.prev=new w.Buf16(l.w_size);l.lit_bufsize=1<<e+6;l.pending_buf_size=4*l.lit_bufsize;l.pending_buf=new w.Buf8(l.pending_buf_size);l.d_buf=1*l.lit_bufsize;l.l_buf=3*l.lit_bufsize;l.level=c;l.strategy=g;l.method=b;return Ra(a)}function Ta(a,c){if(65537>c&&
(a.subarray&&Ua||!a.subarray&&Va))return String.fromCharCode.apply(null,w.shrinkBuf(a,c));for(var b="",d=0;d<c;d++)b+=String.fromCharCode(a[d]);return b}function aa(a){if(!(this instanceof aa))return new aa(a);a=this.options=w.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},a||{});a.raw&&0<a.windowBits?a.windowBits=-a.windowBits:a.gzip&&0<a.windowBits&&16>a.windowBits&&(a.windowBits+=16);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new Wa;this.strm.avail_out=
0;var c=na.deflateInit2(this.strm,a.level,a.method,a.windowBits,a.memLevel,a.strategy);if(0!==c)throw Error(ga[c]);a.header&&na.deflateSetHeader(this.strm,a.header);if(a.dictionary){a="string"===typeof a.dictionary?ba.string2buf(a.dictionary):"[object ArrayBuffer]"===Xa.call(a.dictionary)?new Uint8Array(a.dictionary):a.dictionary;c=na.deflateSetDictionary(this.strm,a);if(0!==c)throw Error(ga[c]);this._dict_set=!0}}function Ca(a,c){c=new aa(c);c.push(a,!0);if(c.err)throw c.msg||ga[c.err];return c.result}
function Ya(a){return(a>>>24&255)+(a>>>8&65280)+((a&65280)<<8)+((a&255)<<24)}function pb(){this.mode=0;this.last=!1;this.wrap=0;this.havedict=!1;this.total=this.check=this.dmax=this.flags=0;this.head=null;this.wnext=this.whave=this.wsize=this.wbits=0;this.window=null;this.extra=this.offset=this.length=this.bits=this.hold=0;this.distcode=this.lencode=null;this.have=this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=0;this.next=null;this.lens=new w.Buf16(320);this.work=new w.Buf16(288);this.distdyn=
this.lendyn=null;this.was=this.back=this.sane=0}function Za(a){var c;if(!a||!a.state)return-2;c=a.state;a.total_in=a.total_out=c.total=0;a.msg="";c.wrap&&(a.adler=c.wrap&1);c.mode=1;c.last=0;c.havedict=0;c.dmax=32768;c.head=null;c.hold=0;c.bits=0;c.lencode=c.lendyn=new w.Buf32(852);c.distcode=c.distdyn=new w.Buf32(592);c.sane=1;c.back=-1;return 0}function $a(a){var c;if(!a||!a.state)return-2;c=a.state;c.wsize=0;c.whave=0;c.wnext=0;return Za(a)}function ab(a,c){var b,d;if(!a||!a.state)return-2;d=a.state;
0>c?(b=0,c=-c):(b=(c>>4)+1,48>c&&(c&=15));if(c&&(8>c||15<c))return-2;null!==d.window&&d.wbits!==c&&(d.window=null);d.wrap=b;d.wbits=c;return $a(a)}function bb(a,c){var b;if(!a)return-2;b=new pb;a.state=b;b.window=null;c=ab(a,c);0!==c&&(a.state=null);return c}function cb(a,c,b,d){var e=a.state;null===e.window&&(e.wsize=1<<e.wbits,e.wnext=0,e.whave=0,e.window=new w.Buf8(e.wsize));d>=e.wsize?(w.arraySet(e.window,c,b-e.wsize,e.wsize,0),e.wnext=0,e.whave=e.wsize):(a=e.wsize-e.wnext,a>d&&(a=d),w.arraySet(e.window,
c,b-d,a,e.wnext),(d-=a)?(w.arraySet(e.window,c,b-d,d,0),e.wnext=d,e.whave=e.wsize):(e.wnext+=a,e.wnext===e.wsize&&(e.wnext=0),e.whave<e.wsize&&(e.whave+=a)));return 0}function ca(a){if(!(this instanceof ca))return new ca(a);var c=this.options=w.assign({chunkSize:16384,windowBits:0,to:""},a||{});c.raw&&0<=c.windowBits&&16>c.windowBits&&(c.windowBits=-c.windowBits,0===c.windowBits&&(c.windowBits=-15));!(0<=c.windowBits&&16>c.windowBits)||a&&a.windowBits||(c.windowBits+=32);15<c.windowBits&&48>c.windowBits&&
0===(c.windowBits&15)&&(c.windowBits|=15);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new Wa;this.strm.avail_out=0;a=oa.inflateInit2(this.strm,c.windowBits);if(a!==x.Z_OK)throw Error(ga[a]);this.header=new qb;oa.inflateGetHeader(this.strm,this.header)}function Da(a,c){c=new ca(c);c.push(a,!0);if(c.err)throw c.msg||ga[c.err];return c.result}var rb="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},w=C(function(a,c){a="undefined"!==
typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Int32Array;c.assign=function(a){for(var b=Array.prototype.slice.call(arguments,1);b.length;){var c=b.shift();if(c){if("object"!==typeof c)throw new TypeError(c+"must be non-object");for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])}}return a};c.shrinkBuf=function(a,b){if(a.length===b)return a;if(a.subarray)return a.subarray(0,b);a.length=b;return a};var b={arraySet:function(a,b,c,d,r){if(b.subarray&&a.subarray)a.set(b.subarray(c,
c+d),r);else for(var e=0;e<d;e++)a[r+e]=b[c+e]},flattenChunks:function(a){var b,c,d,e,h;b=d=0;for(c=a.length;b<c;b++)d+=a[b].length;h=new Uint8Array(d);b=d=0;for(c=a.length;b<c;b++)e=a[b],h.set(e,d),d+=e.length;return h}},d={arraySet:function(a,b,c,d,r){for(var e=0;e<d;e++)a[r+e]=b[c+e]},flattenChunks:function(a){return[].concat.apply([],a)}};c.setTyped=function(a){a?(c.Buf8=Uint8Array,c.Buf16=Uint16Array,c.Buf32=Int32Array,c.assign(c,b)):(c.Buf8=Array,c.Buf16=Array,c.Buf32=Array,c.assign(c,d))};
c.setTyped(a)}),ya=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ua=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],sb=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],db=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],T=Array(576);B(T);var pa=Array(60);B(pa);var Y=Array(512);B(Y);var ka=Array(256);B(ka);var za=Array(29);B(za);var va=Array(30);B(va);var eb,fb,gb,hb=!1,O={_tr_init:function(a){if(!hb){var c,b,d,e=Array(16);for(d=b=0;28>d;d++)for(za[d]=b,c=0;c<1<<ya[d];c++)ka[b++]=
d;ka[b-1]=d;for(d=b=0;16>d;d++)for(va[d]=b,c=0;c<1<<ua[d];c++)Y[b++]=d;for(b>>=7;30>d;d++)for(va[d]=b<<7,c=0;c<1<<ua[d]-7;c++)Y[256+b++]=d;for(c=0;15>=c;c++)e[c]=0;for(c=0;143>=c;)T[2*c+1]=8,c++,e[8]++;for(;255>=c;)T[2*c+1]=9,c++,e[9]++;for(;279>=c;)T[2*c+1]=7,c++,e[7]++;for(;287>=c;)T[2*c+1]=8,c++,e[8]++;Ha(T,287,e);for(c=0;30>c;c++)pa[2*c+1]=5,pa[2*c]=Ga(c,5);eb=new z(T,ya,257,286,15);fb=new z(pa,ua,0,30,15);gb=new z([],sb,0,19,7);hb=!0}a.l_desc=new P(a.dyn_ltree,eb);a.d_desc=new P(a.dyn_dtree,
fb);a.bl_desc=new P(a.bl_tree,gb);a.bi_buf=0;a.bi_valid=0;Ia(a)},_tr_stored_block:Oa,_tr_flush_block:function(a,c,b,d){var e,g,f=0;if(0<a.level){2===a.strm.data_type&&(a.strm.data_type=lb(a));Aa(a,a.l_desc);Aa(a,a.d_desc);Ma(a,a.dyn_ltree,a.l_desc.max_code);Ma(a,a.dyn_dtree,a.d_desc.max_code);Aa(a,a.bl_desc);for(f=18;3<=f&&0===a.bl_tree[2*db[f]+1];f--);a.opt_len+=3*(f+1)+14;e=a.opt_len+3+7>>>3;g=a.static_len+3+7>>>3;g<=e&&(e=g)}else e=g=b+5;if(b+4<=e&&-1!==c)Oa(a,c,b,d);else if(4===a.strategy||g===
e)L(a,2+(d?1:0),3),La(a,T,pa);else{L(a,4+(d?1:0),3);c=a.l_desc.max_code+1;b=a.d_desc.max_code+1;f+=1;L(a,c-257,5);L(a,b-1,5);L(a,f-4,4);for(e=0;e<f;e++)L(a,a.bl_tree[2*db[e]+1],3);Na(a,a.dyn_ltree,c-1);Na(a,a.dyn_dtree,b-1);La(a,a.dyn_ltree,a.dyn_dtree)}Ia(a);d&&Ja(a)},_tr_tally:function(a,c,b){a.pending_buf[a.d_buf+2*a.last_lit]=c>>>8&255;a.pending_buf[a.d_buf+2*a.last_lit+1]=c&255;a.pending_buf[a.l_buf+a.last_lit]=b&255;a.last_lit++;0===c?a.dyn_ltree[2*b]++:(a.matches++,c--,a.dyn_ltree[2*(ka[b]+
256+1)]++,a.dyn_dtree[2*(256>c?Y[c]:Y[256+(c>>>7)])]++);return a.last_lit===a.lit_bufsize-1},_tr_align:function(a){L(a,2,3);Q(a,256,T);16===a.bi_valid?(ja(a,a.bi_buf),a.bi_buf=0,a.bi_valid=0):8<=a.bi_valid&&(a.pending_buf[a.pending++]=a.bi_buf&255,a.bi_buf>>=8,a.bi_valid-=8)}},ma=function(a,c,b,d){var e=a&65535|0;a=a>>>16&65535|0;for(var g;0!==b;){g=2E3<b?2E3:b;b-=g;do e=e+c[d++]|0,a=a+e|0;while(--g);e%=65521;a%=65521}return e|a<<16|0},tb=function(){for(var a,c=[],b=0;256>b;b++){a=b;for(var d=0;8>
d;d++)a=a&1?3988292384^a>>>1:a>>>1;c[b]=a}return c}(),I=function(a,c,b,d){b=d+b;for(a^=-1;d<b;d++)a=a>>>8^tb[(a^c[d])&255];return a^-1},ga={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ia;ia=[new R(0,0,0,0,function(a,c){var b=65535;for(b>a.pending_buf_size-5&&(b=a.pending_buf_size-5);;){if(1>=a.lookahead){Z(a);if(0===a.lookahead&&0===c)return 1;if(0===a.lookahead)break}a.strstart+=
a.lookahead;a.lookahead=0;var d=a.block_start+b;if(0===a.strstart||a.strstart>=d)if(a.lookahead=a.strstart-d,a.strstart=d,J(a,!1),0===a.strm.avail_out)return 1;if(a.strstart-a.block_start>=a.w_size-262&&(J(a,!1),0===a.strm.avail_out))return 1}a.insert=0;if(4===c)return J(a,!0),0===a.strm.avail_out?3:4;a.strstart>a.block_start&&J(a,!1);return 1}),new R(4,4,8,4,Ba),new R(4,5,16,8,Ba),new R(4,6,32,32,Ba),new R(4,4,16,16,ha),new R(8,16,32,32,ha),new R(8,16,128,128,ha),new R(8,32,128,256,ha),new R(32,
128,258,1024,ha),new R(32,258,258,4096,ha)];var na={deflateInit:function(a,c){return Sa(a,c,8,15,8,0)},deflateInit2:Sa,deflateReset:Ra,deflateResetKeep:Qa,deflateSetHeader:function(a,c){if(!a||!a.state||2!==a.state.wrap)return-2;a.state.gzhead=c;return 0},deflate:function(a,c){var b,d,e,g;if(!a||!a.state||5<c||0>c)return a?U(a,-2):-2;d=a.state;if(!a.output||!a.input&&0!==a.avail_in||666===d.status&&4!==c)return U(a,0===a.avail_out?-5:-2);d.strm=a;b=d.last_flush;d.last_flush=c;42===d.status&&(2===
d.wrap?(a.adler=0,v(d,31),v(d,139),v(d,8),d.gzhead?(v(d,(d.gzhead.text?1:0)+(d.gzhead.hcrc?2:0)+(d.gzhead.extra?4:0)+(d.gzhead.name?8:0)+(d.gzhead.comment?16:0)),v(d,d.gzhead.time&255),v(d,d.gzhead.time>>8&255),v(d,d.gzhead.time>>16&255),v(d,d.gzhead.time>>24&255),v(d,9===d.level?2:2<=d.strategy||2>d.level?4:0),v(d,d.gzhead.os&255),d.gzhead.extra&&d.gzhead.extra.length&&(v(d,d.gzhead.extra.length&255),v(d,d.gzhead.extra.length>>8&255)),d.gzhead.hcrc&&(a.adler=I(a.adler,d.pending_buf,d.pending,0)),
d.gzindex=0,d.status=69):(v(d,0),v(d,0),v(d,0),v(d,0),v(d,0),v(d,9===d.level?2:2<=d.strategy||2>d.level?4:0),v(d,3),d.status=113)):(e=8+(d.w_bits-8<<4)<<8,e|=(2<=d.strategy||2>d.level?0:6>d.level?1:6===d.level?2:3)<<6,0!==d.strstart&&(e|=32),d.status=113,la(d,e+(31-e%31)),0!==d.strstart&&(la(d,a.adler>>>16),la(d,a.adler&65535)),a.adler=1));if(69===d.status)if(d.gzhead.extra){for(e=d.pending;d.gzindex<(d.gzhead.extra.length&65535)&&(d.pending!==d.pending_buf_size||(d.gzhead.hcrc&&d.pending>e&&(a.adler=
I(a.adler,d.pending_buf,d.pending-e,e)),W(a),e=d.pending,d.pending!==d.pending_buf_size));)v(d,d.gzhead.extra[d.gzindex]&255),d.gzindex++;d.gzhead.hcrc&&d.pending>e&&(a.adler=I(a.adler,d.pending_buf,d.pending-e,e));d.gzindex===d.gzhead.extra.length&&(d.gzindex=0,d.status=73)}else d.status=73;if(73===d.status)if(d.gzhead.name){e=d.pending;do{if(d.pending===d.pending_buf_size&&(d.gzhead.hcrc&&d.pending>e&&(a.adler=I(a.adler,d.pending_buf,d.pending-e,e)),W(a),e=d.pending,d.pending===d.pending_buf_size)){g=
1;break}g=d.gzindex<d.gzhead.name.length?d.gzhead.name.charCodeAt(d.gzindex++)&255:0;v(d,g)}while(0!==g);d.gzhead.hcrc&&d.pending>e&&(a.adler=I(a.adler,d.pending_buf,d.pending-e,e));0===g&&(d.gzindex=0,d.status=91)}else d.status=91;if(91===d.status)if(d.gzhead.comment){e=d.pending;do{if(d.pending===d.pending_buf_size&&(d.gzhead.hcrc&&d.pending>e&&(a.adler=I(a.adler,d.pending_buf,d.pending-e,e)),W(a),e=d.pending,d.pending===d.pending_buf_size)){g=1;break}g=d.gzindex<d.gzhead.comment.length?d.gzhead.comment.charCodeAt(d.gzindex++)&
255:0;v(d,g)}while(0!==g);d.gzhead.hcrc&&d.pending>e&&(a.adler=I(a.adler,d.pending_buf,d.pending-e,e));0===g&&(d.status=103)}else d.status=103;103===d.status&&(d.gzhead.hcrc?(d.pending+2>d.pending_buf_size&&W(a),d.pending+2<=d.pending_buf_size&&(v(d,a.adler&255),v(d,a.adler>>8&255),a.adler=0,d.status=113)):d.status=113);if(0!==d.pending){if(W(a),0===a.avail_out)return d.last_flush=-1,0}else if(0===a.avail_in&&(c<<1)-(4<c?9:0)<=(b<<1)-(4<b?9:0)&&4!==c)return U(a,-5);if(666===d.status&&0!==a.avail_in)return U(a,
-5);if(0!==a.avail_in||0!==d.lookahead||0!==c&&666!==d.status){b=2===d.strategy?nb(d,c):3===d.strategy?mb(d,c):ia[d.level].func(d,c);if(3===b||4===b)d.status=666;if(1===b||3===b)return 0===a.avail_out&&(d.last_flush=-1),0;if(2===b&&(1===c?O._tr_align(d):5!==c&&(O._tr_stored_block(d,0,0,!1),3===c&&(V(d.head),0===d.lookahead&&(d.strstart=0,d.block_start=0,d.insert=0))),W(a),0===a.avail_out))return d.last_flush=-1,0}if(4!==c)return 0;if(0>=d.wrap)return 1;2===d.wrap?(v(d,a.adler&255),v(d,a.adler>>8&
255),v(d,a.adler>>16&255),v(d,a.adler>>24&255),v(d,a.total_in&255),v(d,a.total_in>>8&255),v(d,a.total_in>>16&255),v(d,a.total_in>>24&255)):(la(d,a.adler>>>16),la(d,a.adler&65535));W(a);0<d.wrap&&(d.wrap=-d.wrap);return 0!==d.pending?0:1},deflateEnd:function(a){var c;if(!a||!a.state)return-2;c=a.state.status;if(42!==c&&69!==c&&73!==c&&91!==c&&103!==c&&113!==c&&666!==c)return U(a,-2);a.state=null;return 113===c?U(a,-3):0},deflateSetDictionary:function(a,c){var b=c.length,d,e,g,f,l;if(!a||!a.state)return-2;
d=a.state;e=d.wrap;if(2===e||1===e&&42!==d.status||d.lookahead)return-2;1===e&&(a.adler=ma(a.adler,c,b,0));d.wrap=0;b>=d.w_size&&(0===e&&(V(d.head),d.strstart=0,d.block_start=0,d.insert=0),g=new w.Buf8(d.w_size),w.arraySet(g,c,b-d.w_size,d.w_size,0),c=g,b=d.w_size);g=a.avail_in;f=a.next_in;l=a.input;a.avail_in=b;a.next_in=0;a.input=c;for(Z(d);3<=d.lookahead;){c=d.strstart;b=d.lookahead-2;do d.ins_h=(d.ins_h<<d.hash_shift^d.window[c+3-1])&d.hash_mask,d.prev[c&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=
c,c++;while(--b);d.strstart=c;d.lookahead=2;Z(d)}d.strstart+=d.lookahead;d.block_start=d.strstart;d.insert=d.lookahead;d.lookahead=0;d.match_length=d.prev_length=2;d.match_available=0;a.next_in=f;a.input=l;a.avail_in=g;d.wrap=e;return 0},deflateInfo:"pako deflate (from Nodeca project)"},Va=!0,Ua=!0;try{String.fromCharCode.apply(null,[0])}catch(a){Va=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(a){Ua=!1}for(var qa=new w.Buf8(256),X=0;256>X;X++)qa[X]=252<=X?6:248<=X?5:240<=X?4:224<=
X?3:192<=X?2:1;qa[254]=qa[254]=1;var ba={string2buf:function(a){var c,b,d,e,g,f=a.length,l=0;for(e=0;e<f;e++)b=a.charCodeAt(e),55296===(b&64512)&&e+1<f&&(d=a.charCodeAt(e+1),56320===(d&64512)&&(b=65536+(b-55296<<10)+(d-56320),e++)),l+=128>b?1:2048>b?2:65536>b?3:4;c=new w.Buf8(l);for(e=g=0;g<l;e++)b=a.charCodeAt(e),55296===(b&64512)&&e+1<f&&(d=a.charCodeAt(e+1),56320===(d&64512)&&(b=65536+(b-55296<<10)+(d-56320),e++)),128>b?c[g++]=b:(2048>b?c[g++]=192|b>>>6:(65536>b?c[g++]=224|b>>>12:(c[g++]=240|b>>>
18,c[g++]=128|b>>>12&63),c[g++]=128|b>>>6&63),c[g++]=128|b&63);return c},buf2binstring:function(a){return Ta(a,a.length)},binstring2buf:function(a){for(var c=new w.Buf8(a.length),b=0,d=c.length;b<d;b++)c[b]=a.charCodeAt(b);return c},buf2string:function(a,c){var b,d,e,g=c||a.length,f=Array(2*g);for(c=b=0;c<g;)if(d=a[c++],128>d)f[b++]=d;else if(e=qa[d],4<e)f[b++]=65533,c+=e-1;else{for(d&=2===e?31:3===e?15:7;1<e&&c<g;)d=d<<6|a[c++]&63,e--;1<e?f[b++]=65533:65536>d?f[b++]=d:(d-=65536,f[b++]=55296|d>>10&
1023,f[b++]=56320|d&1023)}return Ta(f,b)},utf8border:function(a,c){var b;c=c||a.length;c>a.length&&(c=a.length);for(b=c-1;0<=b&&128===(a[b]&192);)b--;return 0>b||0===b?c:b+qa[a[b]]>c?b:c}},Wa=function(){this.input=null;this.total_in=this.avail_in=this.next_in=0;this.output=null;this.total_out=this.avail_out=this.next_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=0},Xa=Object.prototype.toString;aa.prototype.push=function(a,c){var b=this.strm,d=this.options.chunkSize;if(this.ended)return!1;
c=c===~~c?c:!0===c?4:0;"string"===typeof a?b.input=ba.string2buf(a):"[object ArrayBuffer]"===Xa.call(a)?b.input=new Uint8Array(a):b.input=a;b.next_in=0;b.avail_in=b.input.length;do{0===b.avail_out&&(b.output=new w.Buf8(d),b.next_out=0,b.avail_out=d);a=na.deflate(b,c);if(1!==a&&0!==a)return this.onEnd(a),this.ended=!0,!1;if(0===b.avail_out||0===b.avail_in&&(4===c||2===c))if("string"===this.options.to)this.onData(ba.buf2binstring(w.shrinkBuf(b.output,b.next_out)));else this.onData(w.shrinkBuf(b.output,
b.next_out))}while((0<b.avail_in||0===b.avail_out)&&1!==a);if(4===c)return a=na.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,0===a;2===c&&(this.onEnd(0),b.avail_out=0);return!0};aa.prototype.onData=function(a){this.chunks.push(a)};aa.prototype.onEnd=function(a){0===a&&(this.result="string"===this.options.to?this.chunks.join(""):w.flattenChunks(this.chunks));this.chunks=[];this.err=a;this.msg=this.strm.msg};var ub={Deflate:aa,deflate:Ca,deflateRaw:function(a,c){c=c||{};c.raw=!0;return Ca(a,c)},
gzip:function(a,c){c=c||{};c.gzip=!0;return Ca(a,c)}},vb=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],wb=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],xb=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],yb=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],sa=function(a,c,b,d,e,g,f,l){var r=
l.bits,h,n,y,t,k,p,m,u,G,K,H,E,da,D=0,q,v=new w.Buf16(16);k=new w.Buf16(16);var ea,C=0,ra,A,B;for(h=0;15>=h;h++)v[h]=0;for(n=0;n<d;n++)v[c[b+n]]++;t=r;for(y=15;1<=y&&0===v[y];y--);t>y&&(t=y);if(0===y)return e[g++]=20971520,e[g++]=20971520,l.bits=1,0;for(r=1;r<y&&0===v[r];r++);t<r&&(t=r);for(h=p=1;15>=h;h++)if(p<<=1,p-=v[h],0>p)return-1;if(0<p&&(0===a||1!==y))return-1;k[1]=0;for(h=1;15>h;h++)k[h+1]=k[h]+v[h];for(n=0;n<d;n++)0!==c[b+n]&&(f[k[c[b+n]]++]=n);0===a?(da=ea=f,q=19):1===a?(da=vb,D-=257,ea=
wb,C-=257,q=256):(da=xb,ea=yb,q=-1);n=u=0;h=r;E=g;d=t;k=0;K=-1;m=1<<t;H=m-1;if(1===a&&852<m||2===a&&592<m)return 1;for(;;){ra=h-k;f[n]<q?(A=0,B=f[n]):f[n]>q?(A=ea[C+f[n]],B=da[D+f[n]]):(A=96,B=0);p=1<<h-k;r=G=1<<d;do G-=p,e[E+(u>>k)+G]=ra<<24|A<<16|B|0;while(0!==G);for(p=1<<h-1;u&p;)p>>=1;0!==p?(u&=p-1,u+=p):u=0;n++;if(0===--v[h]){if(h===y)break;h=c[b+f[n]]}if(h>t&&(u&H)!==K){0===k&&(k=t);E+=r;d=h-k;for(p=1<<d;d+k<y;){p-=v[d+k];if(0>=p)break;d++;p<<=1}m+=1<<d;if(1===a&&852<m||2===a&&592<m)return 1;
K=u&H;e[K]=t<<24|d<<16|E-g|0}}0!==u&&(e[E+u]=h-k<<24|4194304);l.bits=t;return 0},ib=!0,Ea,Fa,oa={inflateReset:$a,inflateReset2:ab,inflateResetKeep:Za,inflateInit:function(a){return bb(a,15)},inflateInit2:bb,inflate:function(a,c){var b,d,e,g,f,l,r,h,n,y,t,k,p,m,u,G,K,H,E=new w.Buf8(4),da=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!a||!a.state||!a.output||!a.input&&0!==a.avail_in)return-2;b=a.state;12===b.mode&&(b.mode=13);f=a.next_out;e=a.output;r=a.avail_out;g=a.next_in;d=a.input;l=a.avail_in;
h=b.hold;n=b.bits;y=l;t=r;H=0;a:for(;;)switch(b.mode){case 1:if(0===b.wrap){b.mode=13;break}for(;16>n;){if(0===l)break a;l--;h+=d[g++]<<n;n+=8}if(b.wrap&2&&35615===h){b.check=0;E[0]=h&255;E[1]=h>>>8&255;b.check=I(b.check,E,2,0);n=h=0;b.mode=2;break}b.flags=0;b.head&&(b.head.done=!1);if(!(b.wrap&1)||(((h&255)<<8)+(h>>8))%31){a.msg="incorrect header check";b.mode=30;break}if(8!==(h&15)){a.msg="unknown compression method";b.mode=30;break}h>>>=4;n-=4;p=(h&15)+8;if(0===b.wbits)b.wbits=p;else if(p>b.wbits){a.msg=
"invalid window size";b.mode=30;break}b.dmax=1<<p;a.adler=b.check=1;b.mode=h&512?10:12;n=h=0;break;case 2:for(;16>n;){if(0===l)break a;l--;h+=d[g++]<<n;n+=8}b.flags=h;if(8!==(b.flags&255)){a.msg="unknown compression method";b.mode=30;break}if(b.flags&57344){a.msg="unknown header flags set";b.mode=30;break}b.head&&(b.head.text=h>>8&1);b.flags&512&&(E[0]=h&255,E[1]=h>>>8&255,b.check=I(b.check,E,2,0));n=h=0;b.mode=3;case 3:for(;32>n;){if(0===l)break a;l--;h+=d[g++]<<n;n+=8}b.head&&(b.head.time=h);b.flags&
512&&(E[0]=h&255,E[1]=h>>>8&255,E[2]=h>>>16&255,E[3]=h>>>24&255,b.check=I(b.check,E,4,0));n=h=0;b.mode=4;case 4:for(;16>n;){if(0===l)break a;l--;h+=d[g++]<<n;n+=8}b.head&&(b.head.xflags=h&255,b.head.os=h>>8);b.flags&512&&(E[0]=h&255,E[1]=h>>>8&255,b.check=I(b.check,E,2,0));n=h=0;b.mode=5;case 5:if(b.flags&1024){for(;16>n;){if(0===l)break a;l--;h+=d[g++]<<n;n+=8}b.length=h;b.head&&(b.head.extra_len=h);b.flags&512&&(E[0]=h&255,E[1]=h>>>8&255,b.check=I(b.check,E,2,0));n=h=0}else b.head&&(b.head.extra=
null);b.mode=6;case 6:if(b.flags&1024&&(k=b.length,k>l&&(k=l),k&&(b.head&&(p=b.head.extra_len-b.length,b.head.extra||(b.head.extra=Array(b.head.extra_len)),w.arraySet(b.head.extra,d,g,k,p)),b.flags&512&&(b.check=I(b.check,d,k,g)),l-=k,g+=k,b.length-=k),b.length))break a;b.length=0;b.mode=7;case 7:if(b.flags&2048){if(0===l)break a;k=0;do p=d[g+k++],b.head&&p&&65536>b.length&&(b.head.name+=String.fromCharCode(p));while(p&&k<l);b.flags&512&&(b.check=I(b.check,d,k,g));l-=k;g+=k;if(p)break a}else b.head&&
(b.head.name=null);b.length=0;b.mode=8;case 8:if(b.flags&4096){if(0===l)break a;k=0;do p=d[g+k++],b.head&&p&&65536>b.length&&(b.head.comment+=String.fromCharCode(p));while(p&&k<l);b.flags&512&&(b.check=I(b.check,d,k,g));l-=k;g+=k;if(p)break a}else b.head&&(b.head.comment=null);b.mode=9;case 9:if(b.flags&512){for(;16>n;){if(0===l)break a;l--;h+=d[g++]<<n;n+=8}if(h!==(b.check&65535)){a.msg="header crc mismatch";b.mode=30;break}n=h=0}b.head&&(b.head.hcrc=b.flags>>9&1,b.head.done=!0);a.adler=b.check=
0;b.mode=12;break;case 10:for(;32>n;){if(0===l)break a;l--;h+=d[g++]<<n;n+=8}a.adler=b.check=Ya(h);n=h=0;b.mode=11;case 11:if(0===b.havedict)return a.next_out=f,a.avail_out=r,a.next_in=g,a.avail_in=l,b.hold=h,b.bits=n,2;a.adler=b.check=1;b.mode=12;case 12:if(5===c||6===c)break a;case 13:if(b.last){h>>>=n&7;n-=n&7;b.mode=27;break}for(;3>n;){if(0===l)break a;l--;h+=d[g++]<<n;n+=8}b.last=h&1;h>>>=1;--n;switch(h&3){case 0:b.mode=14;break;case 1:p=b;if(ib){Ea=new w.Buf32(512);Fa=new w.Buf32(32);for(k=
0;144>k;)p.lens[k++]=8;for(;256>k;)p.lens[k++]=9;for(;280>k;)p.lens[k++]=7;for(;288>k;)p.lens[k++]=8;sa(1,p.lens,0,288,Ea,0,p.work,{bits:9});for(k=0;32>k;)p.lens[k++]=5;sa(2,p.lens,0,32,Fa,0,p.work,{bits:5});ib=!1}p.lencode=Ea;p.lenbits=9;p.distcode=Fa;p.distbits=5;b.mode=20;if(6===c){h>>>=2;n-=2;break a}break;case 2:b.mode=17;break;case 3:a.msg="invalid block type",b.mode=30}h>>>=2;n-=2;break;case 14:h>>>=n&7;for(n-=n&7;32>n;){if(0===l)break a;l--;h+=d[g++]<<n;n+=8}if((h&65535)!==(h>>>16^65535)){a.msg=
"invalid stored block lengths";b.mode=30;break}b.length=h&65535;n=h=0;b.mode=15;if(6===c)break a;case 15:b.mode=16;case 16:if(k=b.length){k>l&&(k=l);k>r&&(k=r);if(0===k)break a;w.arraySet(e,d,g,k,f);l-=k;g+=k;r-=k;f+=k;b.length-=k;break}b.mode=12;break;case 17:for(;14>n;){if(0===l)break a;l--;h+=d[g++]<<n;n+=8}b.nlen=(h&31)+257;h>>>=5;n-=5;b.ndist=(h&31)+1;h>>>=5;n-=5;b.ncode=(h&15)+4;h>>>=4;n-=4;if(286<b.nlen||30<b.ndist){a.msg="too many length or distance symbols";b.mode=30;break}b.have=0;b.mode=
18;case 18:for(;b.have<b.ncode;){for(;3>n;){if(0===l)break a;l--;h+=d[g++]<<n;n+=8}b.lens[da[b.have++]]=h&7;h>>>=3;n-=3}for(;19>b.have;)b.lens[da[b.have++]]=0;b.lencode=b.lendyn;b.lenbits=7;k={bits:b.lenbits};H=sa(0,b.lens,0,19,b.lencode,0,b.work,k);b.lenbits=k.bits;if(H){a.msg="invalid code lengths set";b.mode=30;break}b.have=0;b.mode=19;case 19:for(;b.have<b.nlen+b.ndist;){for(;;){u=b.lencode[h&(1<<b.lenbits)-1];k=u>>>24;u&=65535;if(k<=n)break;if(0===l)break a;l--;h+=d[g++]<<n;n+=8}if(16>u)h>>>=
k,n-=k,b.lens[b.have++]=u;else{if(16===u){for(p=k+2;n<p;){if(0===l)break a;l--;h+=d[g++]<<n;n+=8}h>>>=k;n-=k;if(0===b.have){a.msg="invalid bit length repeat";b.mode=30;break}p=b.lens[b.have-1];k=3+(h&3);h>>>=2;n-=2}else if(17===u){for(p=k+3;n<p;){if(0===l)break a;l--;h+=d[g++]<<n;n+=8}h>>>=k;n-=k;p=0;k=3+(h&7);h>>>=3;n-=3}else{for(p=k+7;n<p;){if(0===l)break a;l--;h+=d[g++]<<n;n+=8}h>>>=k;n-=k;p=0;k=11+(h&127);h>>>=7;n-=7}if(b.have+k>b.nlen+b.ndist){a.msg="invalid bit length repeat";b.mode=30;break}for(;k--;)b.lens[b.have++]=
p}}if(30===b.mode)break;if(0===b.lens[256]){a.msg="invalid code -- missing end-of-block";b.mode=30;break}b.lenbits=9;k={bits:b.lenbits};H=sa(1,b.lens,0,b.nlen,b.lencode,0,b.work,k);b.lenbits=k.bits;if(H){a.msg="invalid literal/lengths set";b.mode=30;break}b.distbits=6;b.distcode=b.distdyn;k={bits:b.distbits};H=sa(2,b.lens,b.nlen,b.ndist,b.distcode,0,b.work,k);b.distbits=k.bits;if(H){a.msg="invalid distances set";b.mode=30;break}b.mode=20;if(6===c)break a;case 20:b.mode=21;case 21:if(6<=l&&258<=r){a.next_out=
f;a.avail_out=r;a.next_in=g;a.avail_in=l;b.hold=h;b.bits=n;var D,q,v,ea,B,ra,A,C,x,F,z=a;F=z.state;x=z.next_in;e=z.input;C=x+(z.avail_in-5);A=z.next_out;d=z.output;ra=A-(t-z.avail_out);B=A+(z.avail_out-257);ea=F.dmax;u=F.wsize;K=F.whave;G=F.wnext;m=F.window;p=F.hold;k=F.bits;n=F.lencode;h=F.distcode;r=(1<<F.lenbits)-1;l=(1<<F.distbits)-1;b:do c:for(15>k&&(p+=e[x++]<<k,k+=8,p+=e[x++]<<k,k+=8),D=n[p&r];;){f=D>>>24;p>>>=f;k-=f;f=D>>>16&255;if(0===f)d[A++]=D&65535;else if(f&16){g=D&65535;if(f&=15)k<f&&
(p+=e[x++]<<k,k+=8),g+=p&(1<<f)-1,p>>>=f,k-=f;15>k&&(p+=e[x++]<<k,k+=8,p+=e[x++]<<k,k+=8);D=h[p&l];d:for(;;){f=D>>>24;p>>>=f;k-=f;f=D>>>16&255;if(f&16){v=D&65535;f&=15;k<f&&(p+=e[x++]<<k,k+=8,k<f&&(p+=e[x++]<<k,k+=8));v+=p&(1<<f)-1;if(v>ea){z.msg="invalid distance too far back";F.mode=30;break b}p>>>=f;k-=f;f=A-ra;if(v>f){f=v-f;if(f>K&&F.sane){z.msg="invalid distance too far back";F.mode=30;break b}q=0;D=m;if(0===G){if(q+=u-f,f<g){g-=f;do d[A++]=m[q++];while(--f);q=A-v;D=d}}else if(G<f){if(q+=u+G-
f,f-=G,f<g){g-=f;do d[A++]=m[q++];while(--f);q=0;if(G<g){f=G;g-=f;do d[A++]=m[q++];while(--f);q=A-v;D=d}}}else if(q+=G-f,f<g){g-=f;do d[A++]=m[q++];while(--f);q=A-v;D=d}for(;2<g;)d[A++]=D[q++],d[A++]=D[q++],d[A++]=D[q++],g-=3;g&&(d[A++]=D[q++],1<g&&(d[A++]=D[q++]))}else{q=A-v;do d[A++]=d[q++],d[A++]=d[q++],d[A++]=d[q++],g-=3;while(2<g);g&&(d[A++]=d[q++],1<g&&(d[A++]=d[q++]))}}else if(0===(f&64)){D=h[(D&65535)+(p&(1<<f)-1)];continue d}else{z.msg="invalid distance code";F.mode=30;break b}break}}else if(0===
(f&64)){D=n[(D&65535)+(p&(1<<f)-1)];continue c}else{f&32?F.mode=12:(z.msg="invalid literal/length code",F.mode=30);break b}break}while(x<C&&A<B);g=k>>3;x-=g;k-=g<<3;z.next_in=x;z.next_out=A;z.avail_in=x<C?5+(C-x):5-(x-C);z.avail_out=A<B?257+(B-A):257-(A-B);F.hold=p&(1<<k)-1;F.bits=k;f=a.next_out;e=a.output;r=a.avail_out;g=a.next_in;d=a.input;l=a.avail_in;h=b.hold;n=b.bits;12===b.mode&&(b.back=-1);break}for(b.back=0;;){u=b.lencode[h&(1<<b.lenbits)-1];k=u>>>24;p=u>>>16&255;u&=65535;if(k<=n)break;if(0===
l)break a;l--;h+=d[g++]<<n;n+=8}if(p&&0===(p&240)){m=k;G=p;for(K=u;;){u=b.lencode[K+((h&(1<<m+G)-1)>>m)];k=u>>>24;p=u>>>16&255;u&=65535;if(m+k<=n)break;if(0===l)break a;l--;h+=d[g++]<<n;n+=8}h>>>=m;n-=m;b.back+=m}h>>>=k;n-=k;b.back+=k;b.length=u;if(0===p){b.mode=26;break}if(p&32){b.back=-1;b.mode=12;break}if(p&64){a.msg="invalid literal/length code";b.mode=30;break}b.extra=p&15;b.mode=22;case 22:if(b.extra){for(p=b.extra;n<p;){if(0===l)break a;l--;h+=d[g++]<<n;n+=8}b.length+=h&(1<<b.extra)-1;h>>>=
b.extra;n-=b.extra;b.back+=b.extra}b.was=b.length;b.mode=23;case 23:for(;;){u=b.distcode[h&(1<<b.distbits)-1];k=u>>>24;p=u>>>16&255;u&=65535;if(k<=n)break;if(0===l)break a;l--;h+=d[g++]<<n;n+=8}if(0===(p&240)){m=k;G=p;for(K=u;;){u=b.distcode[K+((h&(1<<m+G)-1)>>m)];k=u>>>24;p=u>>>16&255;u&=65535;if(m+k<=n)break;if(0===l)break a;l--;h+=d[g++]<<n;n+=8}h>>>=m;n-=m;b.back+=m}h>>>=k;n-=k;b.back+=k;if(p&64){a.msg="invalid distance code";b.mode=30;break}b.offset=u;b.extra=p&15;b.mode=24;case 24:if(b.extra){for(p=
b.extra;n<p;){if(0===l)break a;l--;h+=d[g++]<<n;n+=8}b.offset+=h&(1<<b.extra)-1;h>>>=b.extra;n-=b.extra;b.back+=b.extra}if(b.offset>b.dmax){a.msg="invalid distance too far back";b.mode=30;break}b.mode=25;case 25:if(0===r)break a;k=t-r;if(b.offset>k){k=b.offset-k;if(k>b.whave&&b.sane){a.msg="invalid distance too far back";b.mode=30;break}k>b.wnext?(k-=b.wnext,p=b.wsize-k):p=b.wnext-k;k>b.length&&(k=b.length);m=b.window}else m=e,p=f-b.offset,k=b.length;k>r&&(k=r);r-=k;b.length-=k;do e[f++]=m[p++];while(--k);
0===b.length&&(b.mode=21);break;case 26:if(0===r)break a;e[f++]=b.length;r--;b.mode=21;break;case 27:if(b.wrap){for(;32>n;){if(0===l)break a;l--;h|=d[g++]<<n;n+=8}t-=r;a.total_out+=t;b.total+=t;t&&(a.adler=b.check=b.flags?I(b.check,e,t,f-t):ma(b.check,e,t,f-t));t=r;if((b.flags?h:Ya(h))!==b.check){a.msg="incorrect data check";b.mode=30;break}n=h=0}b.mode=28;case 28:if(b.wrap&&b.flags){for(;32>n;){if(0===l)break a;l--;h+=d[g++]<<n;n+=8}if(h!==(b.total&4294967295)){a.msg="incorrect length check";b.mode=
30;break}n=h=0}b.mode=29;case 29:H=1;break a;case 30:H=-3;break a;case 31:return-4;default:return-2}a.next_out=f;a.avail_out=r;a.next_in=g;a.avail_in=l;b.hold=h;b.bits=n;if((b.wsize||t!==a.avail_out&&30>b.mode&&(27>b.mode||4!==c))&&cb(a,a.output,a.next_out,t-a.avail_out))return b.mode=31,-4;y-=a.avail_in;t-=a.avail_out;a.total_in+=y;a.total_out+=t;b.total+=t;b.wrap&&t&&(a.adler=b.check=b.flags?I(b.check,e,t,a.next_out-t):ma(b.check,e,t,a.next_out-t));a.data_type=b.bits+(b.last?64:0)+(12===b.mode?
128:0)+(20===b.mode||15===b.mode?256:0);(0===y&&0===t||4===c)&&0===H&&(H=-5);return H},inflateEnd:function(a){if(!a||!a.state)return-2;var c=a.state;c.window&&(c.window=null);a.state=null;return 0},inflateGetHeader:function(a,c){if(!a||!a.state)return-2;a=a.state;if(0===(a.wrap&2))return-2;a.head=c;c.done=!1;return 0},inflateSetDictionary:function(a,c){var b=c.length,d,e;if(!a||!a.state)return-2;d=a.state;if(0!==d.wrap&&11!==d.mode)return-2;if(11===d.mode&&(e=ma(1,c,b,0),e!==d.check))return-3;if(cb(a,
c,b,b))return d.mode=31,-4;d.havedict=1;return 0},inflateInfo:"pako inflate (from Nodeca project)"},x={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},qb=function(){this.os=
this.xflags=this.time=this.text=0;this.extra=null;this.extra_len=0;this.comment=this.name="";this.hcrc=0;this.done=!1},jb=Object.prototype.toString;ca.prototype.push=function(a,c){var b=this.strm,d=this.options.chunkSize,e=this.options.dictionary,g,f,l,r=!1;if(this.ended)return!1;c=c===~~c?c:!0===c?x.Z_FINISH:x.Z_NO_FLUSH;"string"===typeof a?b.input=ba.binstring2buf(a):"[object ArrayBuffer]"===jb.call(a)?b.input=new Uint8Array(a):b.input=a;b.next_in=0;b.avail_in=b.input.length;do{0===b.avail_out&&
(b.output=new w.Buf8(d),b.next_out=0,b.avail_out=d);a=oa.inflate(b,x.Z_NO_FLUSH);a===x.Z_NEED_DICT&&e&&(a="string"===typeof e?ba.string2buf(e):"[object ArrayBuffer]"===jb.call(e)?new Uint8Array(e):e,a=oa.inflateSetDictionary(this.strm,a));a===x.Z_BUF_ERROR&&!0===r&&(a=x.Z_OK,r=!1);if(a!==x.Z_STREAM_END&&a!==x.Z_OK)return this.onEnd(a),this.ended=!0,!1;if(b.next_out&&(0===b.avail_out||a===x.Z_STREAM_END||0===b.avail_in&&(c===x.Z_FINISH||c===x.Z_SYNC_FLUSH)))if("string"===this.options.to)g=ba.utf8border(b.output,
b.next_out),f=b.next_out-g,l=ba.buf2string(b.output,g),b.next_out=f,b.avail_out=d-f,f&&w.arraySet(b.output,b.output,g,f,0),this.onData(l);else this.onData(w.shrinkBuf(b.output,b.next_out));0===b.avail_in&&0===b.avail_out&&(r=!0)}while((0<b.avail_in||0===b.avail_out)&&a!==x.Z_STREAM_END);a===x.Z_STREAM_END&&(c=x.Z_FINISH);if(c===x.Z_FINISH)return a=oa.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===x.Z_OK;c===x.Z_SYNC_FLUSH&&(this.onEnd(x.Z_OK),b.avail_out=0);return!0};ca.prototype.onData=function(a){this.chunks.push(a)};
ca.prototype.onEnd=function(a){a===x.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):w.flattenChunks(this.chunks));this.chunks=[];this.err=a;this.msg=this.strm.msg};var zb=w.assign,ta={};zb(ta,ub,{Inflate:ca,inflate:Da,inflateRaw:function(a,c){c=c||{};c.raw=!0;return Da(a,c)},ungzip:Da},x);var wa=C(function(a){function c(a){this.value=a}function b(a,b,c){var e=[],g=[],n=!0;return function G(a){function H(){if("object"===typeof m.node&&null!==m.node){m.keys&&m.node_===m.node||(m.keys=
f(m.node));m.isLeaf=0==m.keys.length;for(var b=0;b<g.length;b++)if(g[b].node_===a){m.circular=g[b];break}}else m.isLeaf=!0,m.keys=null;m.notLeaf=!m.isLeaf;m.notRoot=!m.isRoot}var k,K,p,y,t=!0,m={node:c?d(a):a,node_:a,path:[].concat(e),parent:g[g.length-1],parents:g,key:e.slice(-1)[0],isRoot:0===e.length,level:e.length,circular:null,update:function(a,b){m.isRoot||(m.parent.node[m.key]=a);m.node=a;b&&(t=!1)},"delete":function(a){delete m.parent.node[m.key];a&&(t=!1)},remove:function(a){l(m.parent.node)?
m.parent.node.splice(m.key,1):delete m.parent.node[m.key];a&&(t=!1)},keys:null,before:function(a){k=a},after:function(a){K=a},pre:function(a){p=a},post:function(a){y=a},stop:function(){n=!1},block:function(){t=!1}};if(!n)return m;H();var q=b.call(m,m.node);void 0!==q&&m.update&&m.update(q);k&&k.call(m,m.node);if(!t)return m;"object"!=typeof m.node||null===m.node||m.circular||(g.push(m),H(),r(m.keys,function(a,b){e.push(a);p&&p.call(m,m.node[a],a);var d=G(m.node[a]);c&&h.call(m.node,a)&&(m.node[a]=
d.node);d.isLast=b==m.keys.length-1;d.isFirst=0==b;y&&y.call(m,d);e.pop()}),g.pop());K&&K.call(m,m.node);return m}(a).node}function d(a){if("object"===typeof a&&null!==a){var b;if(l(a))b=[];else if("[object Date]"===e(a))b=new Date(a.getTime?a.getTime():a);else if("[object RegExp]"===e(a))b=new RegExp(a);else if("[object Error]"===e(a))b={message:a.message};else if("[object Boolean]"===e(a))b=new Boolean(a);else if("[object Number]"===e(a))b=new Number(a);else if("[object String]"===e(a))b=new String(a);
else if(Object.create&&Object.getPrototypeOf)b=Object.create(Object.getPrototypeOf(a));else if(a.constructor===Object)b={};else{var c=function(){};c.prototype=a.constructor&&a.constructor.prototype||a.__proto__||{};b=new c}r(f(a),function(c){b[c]=a[c]});return b}return a}function e(a){return Object.prototype.toString.call(a)}var g=a.exports=function(a){return new c(a)};c.prototype.get=function(a){for(var b=this.value,c=0;c<a.length;c++){var d=a[c];if(!b||!h.call(b,d)){b=void 0;break}b=b[d]}return b};
c.prototype.has=function(a){for(var b=this.value,c=0;c<a.length;c++){var d=a[c];if(!b||!h.call(b,d))return!1;b=b[d]}return!0};c.prototype.set=function(a,b){for(var c=this.value,d=0;d<a.length-1;d++){var e=a[d];h.call(c,e)||(c[e]={});c=c[e]}return c[a[d]]=b};c.prototype.map=function(a){return b(this.value,a,!0)};c.prototype.forEach=function(a){return this.value=b(this.value,a,!1)};c.prototype.reduce=function(a,b){var c=1===arguments.length,d=c?this.value:b;this.forEach(function(b){this.isRoot&&c||
(d=a.call(this,d,b))});return d};c.prototype.paths=function(){var a=[];this.forEach(function(b){a.push(this.path)});return a};c.prototype.nodes=function(){var a=[];this.forEach(function(b){a.push(this.node)});return a};c.prototype.clone=function(){var a=[],b=[];return function k(c){for(var e=0;e<a.length;e++)if(a[e]===c)return b[e];if("object"===typeof c&&null!==c){var u=d(c);a.push(c);b.push(u);r(f(c),function(a){u[a]=k(c[a])});a.pop();b.pop();return u}return c}(this.value)};var f=Object.keys||function(a){var b=
[],c;for(c in a)b.push(c);return b},l=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},r=function(a,b){if(a.forEach)return a.forEach(b);for(var c=0;c<a.length;c++)b(a[c],c,a)};r(f(c.prototype),function(a){g[a]=function(b){var d=[].slice.call(arguments,1),e=new c(b);return e[a].apply(e,d)}});var h=Object.hasOwnProperty||function(a,b){return b in a}}),q=function(){};q.isPlatformLittleEndian=function(){var a=new Uint32Array([305419896]);return 18!=(new Uint8Array(a.buffer,
a.byteOffset,a.byteLength))[0]};q.arrayBufferToString16=function(a){a=new Uint8Array(buff);for(var c=[],b=0,d=0;b<a.length;){var e=a[b++];if(128>e)c[d++]=String.fromCharCode(e);else if(191<e&&224>e){var g=a[b++];c[d++]=String.fromCharCode((e&31)<<6|g&63)}else if(239<e&&365>e){var g=a[b++],f=a[b++],l=a[b++],e=((e&7)<<18|(g&63)<<12|(f&63)<<6|l&63)-65536;c[d++]=String.fromCharCode(55296+(e>>10));c[d++]=String.fromCharCode(56320+(e&1023))}else g=a[b++],f=a[b++],c[d++]=String.fromCharCode((e&15)<<12|(g&
63)<<6|f&63)}return c.join("")};q.string16ToArrayBuffer=function(a){for(var c=[],b=0,d=0;d<a.length;d++){var e=a.charCodeAt(d);128>e?c[b++]=e:(2048>e?c[b++]=e>>6|192:(55296==(e&64512)&&d+1<a.length&&56320==(a.charCodeAt(d+1)&64512)?(e=65536+((e&1023)<<10)+(a.charCodeAt(++d)&1023),c[b++]=e>>18|240,c[b++]=e>>12&63|128):c[b++]=e>>12|224,c[b++]=e>>6&63|128),c[b++]=e&63|128)}return(new Uint8Array(c)).buffer};q.arrayBufferToString8=function(a){return String.fromCharCode.apply(null,new Uint8Array(a))};q.string8ToArrayBuffer=
function(a){for(var c=new ArrayBuffer(a.length),b=new Uint8Array(c),d=0;d<a.length;d++)b[d]=a.charCodeAt(d);return c};q.setString8InBuffer=function(a,c,b){b=void 0===b?0:b;if(0>b)console.warn("The byte offset cannot be negative.");else if(c&&c instanceof ArrayBuffer)if(a.length+b>c.byteLength)console.warn("The string is too long to be writen in this buffer.");else{c=new Uint8Array(c);for(var d=0;d<a.length;d++)c[d+b]=a.charCodeAt(d)}else console.warn("The buffer must be a valid ArrayBuffer.")};q.getString8FromBuffer=
function(a,c,b){b=void 0===b?0:b;return 0>b?(console.warn("The byte offset cannot be negative."),null):a&&a instanceof ArrayBuffer?c+b>a.byteLength?(console.warn("The string is too long to be writen in this buffer."),null):String.fromCharCode.apply(null,new Uint8Array(a,b,c)):(console.warn("The buffer must be a valid ArrayBuffer."),null)};q.objectToArrayBuffer=function(a){var c=null;a=q.makeSerializeFriendly(a);try{var b=JSON.stringify(a),c=q.string16ToArrayBuffer(b)}catch(d){console.warn(d)}return c};
q.ArrayBufferToObject=function(a){var c=null;try{var b=q.arrayBufferToString16(a),c=JSON.parse(b)}catch(d){console.warn(d)}return c};q.isTypedArray=function(a){return a instanceof Int8Array||a instanceof Uint8Array||a instanceof Uint8ClampedArray||a instanceof Int16Array||a instanceof Uint16Array||a instanceof Int32Array||a instanceof Uint32Array||a instanceof Float32Array||a instanceof Float64Array};q.mergeBuffers=function(a){for(var c=0,b=0;b<a.length;b++)c+=a[b].byteLength;for(var c=new Uint8Array(c),
d=0,b=0;b<a.length;b++)c.set(new Uint8Array(a[b]),d),d+=a[b].byteLength;return c.buffer};q.getGlobalObject=function(){var a=null;try{a=window}catch(c){try{a=GLOBAL}catch(b){return console.warn("You are not in a Javascript environment?? Weird."),null}}return a};q.extractTypedArray=function(a,c,b,d){if(!a)return console.warn("Input Buffer is null."),null;if(!(a instanceof ArrayBuffer))return console.warn("Buffer must be of type ArrayBuffer"),null;if(0>=d)return console.warn("The number of elements to fetch must be greater than 0"),
null;if(0>c)return console.warn("The byte offset must be possitive or 0"),null;if(c>=a.byteLength)return console.warn("The offset cannot be larger than the size of the buffer."),null;if(b instanceof Function&&!("BYTES_PER_ELEMENT"in b))return console.warn("ArrayType must be a typed array constructor function."),null;if(b.BYTES_PER_ELEMENT*d+c>a.byteLength)console.warn("The requested number of elements is too large for this buffer");else return a=a.slice(c,c+d*b.BYTES_PER_ELEMENT),new b(a)};q.getTypedArrayInfo=
function(a){var c=null,b=!1;a instanceof Int8Array?(c="int",b=!1):a instanceof Uint8Array?(c="int",b=!0):a instanceof Uint8ClampedArray?(c="int",b=!0):a instanceof Int16Array?(c="int",b=!1):a instanceof Uint16Array?(c="int",b=!0):a instanceof Int32Array?(c="int",b=!1):a instanceof Uint32Array?(c="int",b=!0):a instanceof Float32Array?(c="float",b=!1):a instanceof Float64Array&&(c="float",b=!1);return{type:c,signed:b,bytesPerElements:a.BYTES_PER_ELEMENT,byteLength:a.byteLength,length:a.length}};q.howManyTypedArrayAttributes=
function(a){var c=0;wa(a).forEach(function(a){c+=q.isTypedArray(a)});return c};q.hasCircularReference=function(a){var c=!1;wa(a).forEach(function(a){this.circular&&(c=!0)});return c};q.removeCircularReference=function(a){var c=!1;a=wa(a).map(function(a){this.circular&&(this.remove(),c=!0)});return c?a:null};q.replaceTypedArrayAttributesByArrays=function(a){var c=!1;a=wa(a).map(function(a){if(q.isTypedArray(a)){for(var b=Object.keys(a).length,e=Array(b),g=0;g<b;g++)e[g]=a[g];this.update(e);c=!0}});
return c?a:null};q.makeSerializeFriendly=function(a){var c=q.removeCircularReference(a);c&&(a=c);(c=q.replaceTypedArrayAttributesByArrays(a))&&(a=c);return a};var N=function(){this._compress=!1;this.reset()};N.prototype.reset=function(){this._output=this._inputCase=this._input=null};N.prototype.enableDataCompression=function(a){this._compress=a};N.prototype.setInput=function(a){if(this._inputCase=N.isGoodCandidate(a))this._input=a};N.prototype.getOutput=function(){return this._output};N.isGoodCandidate=
function(a){if(!a)return console.warn("Input object cannot be null."),!1;if(!("_metadata"in a))return console.warn("Input object must contain a _metadata object."),!1;if(!("_data"in a))return console.warn("Input object must contain a _data object."),!1;var c=a._metadata;a=a._data;try{JSON.stringify(c)}catch(b){return console.warn("The metadata object contains cyclic structures. Cannot be used."),!1}c=N.determineDataCase(a);null===c&&console.warn("The input is invalid.");return c};N.prototype.run=
function(){var a=this._input;if(a&&this._inputCase){var c=a._data,b=null,d=[],e=!1;switch(this._inputCase){case 1:var g=this._getDataSubsetInfo(c);g.compressedByteLength=null;this._compress&&(b=ta.deflate(c.buffer),g.compressedByteLength=b.byteLength);d.push(g);break;case 2:for(var e=!0,b=[],f=0;f<c.length;f++){g=this._getDataSubsetInfo(c[f]);g.isTypedArray||(c[f]=new Uint8Array(q.objectToArrayBuffer(c[f])),g.byteLength=c[f].byteLength);if(this._compress){var l=ta.deflate(c[f].buffer);g.compressedByteLength=
l.byteLength;b.push(l)}d.push(g)}break;case 3:g=this._getDataSubsetInfo(c);c=new Uint8Array(q.objectToArrayBuffer(c));g.byteLength=c.byteLength;this._compress&&(b=ta.deflate(c),g.compressedByteLength=b.byteLength);d.push(g);break;default:console.warn("A problem occured.");return}this._compress&&(c=b);f=q.objectToArrayBuffer(a._metadata);a=q.objectToArrayBuffer({byteStreamInfo:d,originalBlockType:a.constructor.name,metadataByteLength:f.byteLength});a=[(new Uint8Array([+q.isPlatformLittleEndian()])).buffer,
(new Uint32Array([a.byteLength])).buffer,a,f];if(e)for(f=0;f<c.length;f++)a.push(c[f].buffer);else a.push(c.buffer);this._output=q.mergeBuffers(a)}else console.warn("An input must be given to the PixBlockEncoder.")};N.determineDataCase=function(a){return a instanceof Object?q.isTypedArray(a)?1:a instanceof Array?2:3:null};N.prototype._getDataSubsetInfo=function(a){q.isTypedArray(a)?(a=q.getTypedArrayInfo(a),a.isTypedArray=!0):a={type:a.constructor.name,compressedByteLength:null,byteLength:null,length:null,
isTypedArray:!1};return a};var fa=function(){this.reset()};fa.prototype.reset=function(){this._output=this._input=null};fa.prototype.setInput=function(a){a instanceof ArrayBuffer?this._input=a:console.warn("Input should be a valid ArrayBuffer")};fa.prototype.getOutput=function(){return this._output};fa.prototype.run=function(){var a=this._input,c=new DataView(a);c.getUint8(0);var b=0;c.getUint8(0);for(var b=b+1,d=c.getUint32(1,b),b=b+4,c=a.slice(b,b+d),c=q.ArrayBufferToObject(c),b=b+d,d=a.slice(b,
b+c.metadataByteLength),d=q.ArrayBufferToObject(d),b=b+c.metadataByteLength,e=[],g=0;g<c.byteStreamInfo.length;g++){var f=c.byteStreamInfo[g].compressedByteLength,l=this._getDataTypeFromByteStreamInfo(c.byteStreamInfo[g]),m=c.byteStreamInfo[g].isTypedArray;if(f){var h=new Uint8Array(a,b,f),h=ta.inflate(h),l=m?new l(h.buffer):q.ArrayBufferToObject(h.buffer);e.push(l);b+=f}else m?l=q.extractTypedArray(a,b,this._getDataTypeFromByteStreamInfo(c.byteStreamInfo[g]),c.byteStreamInfo[g].length):(f=q.extractTypedArray(a,
b,Uint8Array,c.byteStreamInfo[g].byteLength),l=q.ArrayBufferToObject(f.buffer)),e.push(l),b+=c.byteStreamInfo[g].byteLength}1==e.length&&(e=e[0]);this._output={originalBlockType:c.originalBlockType,_data:e,_metadata:d}};fa.prototype._getDataTypeFromByteStreamInfo=function(a){var c="Object",b=q.getGlobalObject();"int"===a.type?(c=a.signed?"Uint":"Int",c+=8*a.bytesPerElements+"Array"):"float"===a.type&&(c="Float"+(8*a.bytesPerElements+"Array"),b=q.getGlobalObject());return b[c]};var kb=C(function(a){(function(){function c(a){a?
(q[0]=q[16]=q[1]=q[2]=q[3]=q[4]=q[5]=q[6]=q[7]=q[8]=q[9]=q[10]=q[11]=q[12]=q[13]=q[14]=q[15]=0,this.blocks=q,this.buffer8=t):g?(a=new ArrayBuffer(68),this.buffer8=new Uint8Array(a),this.blocks=new Uint32Array(a)):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=0;this.finalized=this.hashed=!1;this.first=!0}var b="object"===typeof window,d=b?window:{};d.JS_MD5_NO_WINDOW&&(b=!1);var b=!b&&"object"===typeof self,e=!d.JS_MD5_NO_NODE_JS&&"object"===
typeof process&&process.versions&&process.versions.node;e?d=rb:b&&(d=self);var b=!d.JS_MD5_NO_COMMON_JS&&!0&&a.exports,g=!d.JS_MD5_NO_ARRAY_BUFFER&&"undefined"!==typeof ArrayBuffer,f="0123456789abcdef".split(""),l=[128,32768,8388608,-2147483648],m=[0,8,16,24],h="hex array digest buffer arrayBuffer base64".split(" "),n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),q=[],t;if(g){var k=new ArrayBuffer(68);t=new Uint8Array(k);q=new Uint32Array(k)}if(d.JS_MD5_NO_NODE_JS||
!Array.isArray)Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)};var p=function(a){return function(b){return(new c(!0)).update(b)[a]()}},v=function(a){var b=eval("require('crypto')"),c=eval("require('buffer').Buffer");return function(d){if("string"===typeof d)return b.createHash("md5").update(d,"utf8").digest("hex");if(null===d||void 0===d)throw"input is invalid type";d.constructor===ArrayBuffer&&(d=new Uint8Array(d));return Array.isArray(d)||ArrayBuffer.isView(d)||
d.constructor===c?b.createHash("md5").update(new c(d)).digest("hex"):a(d)}};c.prototype.update=function(a){if(!this.finalized){var b="string"!=typeof a;if(b){if(null===a||void 0===a)throw"input is invalid type";a.constructor===d.ArrayBuffer&&(a=new Uint8Array(a))}var c=a.length;if(b&&("number"!==typeof c||!(Array.isArray(a)||g&&ArrayBuffer.isView(a))))throw"input is invalid type";for(var e,u=0,f,h=this.blocks,k=this.buffer8;u<c;){this.hashed&&(this.hashed=!1,h[0]=h[16],h[16]=h[1]=h[2]=h[3]=h[4]=h[5]=
h[6]=h[7]=h[8]=h[9]=h[10]=h[11]=h[12]=h[13]=h[14]=h[15]=0);if(b)if(g)for(f=this.start;u<c&&64>f;++u)k[f++]=a[u];else for(f=this.start;u<c&&64>f;++u)h[f>>2]|=a[u]<<m[f++&3];else if(g)for(f=this.start;u<c&&64>f;++u)e=a.charCodeAt(u),128>e?k[f++]=e:(2048>e?k[f++]=192|e>>6:(55296>e||57344<=e?k[f++]=224|e>>12:(e=65536+((e&1023)<<10|a.charCodeAt(++u)&1023),k[f++]=240|e>>18,k[f++]=128|e>>12&63),k[f++]=128|e>>6&63),k[f++]=128|e&63);else for(f=this.start;u<c&&64>f;++u)e=a.charCodeAt(u),128>e?h[f>>2]|=e<<m[f++&
3]:(2048>e?h[f>>2]|=(192|e>>6)<<m[f++&3]:(55296>e||57344<=e?h[f>>2]|=(224|e>>12)<<m[f++&3]:(e=65536+((e&1023)<<10|a.charCodeAt(++u)&1023),h[f>>2]|=(240|e>>18)<<m[f++&3],h[f>>2]|=(128|e>>12&63)<<m[f++&3]),h[f>>2]|=(128|e>>6&63)<<m[f++&3]),h[f>>2]|=(128|e&63)<<m[f++&3]);this.lastByteIndex=f;this.bytes+=f-this.start;64<=f?(this.start=f-64,this.hash(),this.hashed=!0):this.start=f}return this}};c.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var a=this.blocks,b=this.lastByteIndex;
a[b>>2]|=l[b&3];56<=b&&(this.hashed||this.hash(),a[0]=a[16],a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0);a[14]=this.bytes<<3;this.hash()}};c.prototype.hash=function(){var a,b,c,d,e,f=this.blocks;this.first?(a=f[0]-680876937,a=(a<<7|a>>>25)-271733879<<0,d=(-1732584194^a&2004318071)+f[1]-117830708,d=(d<<12|d>>>20)+a<<0,c=(-271733879^d&(a^-271733879))+f[2]-1126478375,c=(c<<17|c>>>15)+d<<0,b=(a^c&(d^a))+f[3]-1316259209):(a=this.h0,b=this.h1,c=this.h2,d=this.h3,
a+=(d^b&(c^d))+f[0]-680876936,a=(a<<7|a>>>25)+b<<0,d+=(c^a&(b^c))+f[1]-389564586,d=(d<<12|d>>>20)+a<<0,c+=(b^d&(a^b))+f[2]+606105819,c=(c<<17|c>>>15)+d<<0,b+=(a^c&(d^a))+f[3]-1044525330);b=(b<<22|b>>>10)+c<<0;a+=(d^b&(c^d))+f[4]-176418897;a=(a<<7|a>>>25)+b<<0;d+=(c^a&(b^c))+f[5]+1200080426;d=(d<<12|d>>>20)+a<<0;c+=(b^d&(a^b))+f[6]-1473231341;c=(c<<17|c>>>15)+d<<0;b+=(a^c&(d^a))+f[7]-45705983;b=(b<<22|b>>>10)+c<<0;a+=(d^b&(c^d))+f[8]+1770035416;a=(a<<7|a>>>25)+b<<0;d+=(c^a&(b^c))+f[9]-1958414417;d=
(d<<12|d>>>20)+a<<0;c+=(b^d&(a^b))+f[10]-42063;c=(c<<17|c>>>15)+d<<0;b+=(a^c&(d^a))+f[11]-1990404162;b=(b<<22|b>>>10)+c<<0;a+=(d^b&(c^d))+f[12]+1804603682;a=(a<<7|a>>>25)+b<<0;d+=(c^a&(b^c))+f[13]-40341101;d=(d<<12|d>>>20)+a<<0;c+=(b^d&(a^b))+f[14]-1502002290;c=(c<<17|c>>>15)+d<<0;b+=(a^c&(d^a))+f[15]+1236535329;b=(b<<22|b>>>10)+c<<0;a+=(c^d&(b^c))+f[1]-165796510;a=(a<<5|a>>>27)+b<<0;d+=(b^c&(a^b))+f[6]-1069501632;d=(d<<9|d>>>23)+a<<0;c+=(a^b&(d^a))+f[11]+643717713;c=(c<<14|c>>>18)+d<<0;b+=(d^a&(c^
d))+f[0]-373897302;b=(b<<20|b>>>12)+c<<0;a+=(c^d&(b^c))+f[5]-701558691;a=(a<<5|a>>>27)+b<<0;d+=(b^c&(a^b))+f[10]+38016083;d=(d<<9|d>>>23)+a<<0;c+=(a^b&(d^a))+f[15]-660478335;c=(c<<14|c>>>18)+d<<0;b+=(d^a&(c^d))+f[4]-405537848;b=(b<<20|b>>>12)+c<<0;a+=(c^d&(b^c))+f[9]+568446438;a=(a<<5|a>>>27)+b<<0;d+=(b^c&(a^b))+f[14]-1019803690;d=(d<<9|d>>>23)+a<<0;c+=(a^b&(d^a))+f[3]-187363961;c=(c<<14|c>>>18)+d<<0;b+=(d^a&(c^d))+f[8]+1163531501;b=(b<<20|b>>>12)+c<<0;a+=(c^d&(b^c))+f[13]-1444681467;a=(a<<5|a>>>
27)+b<<0;d+=(b^c&(a^b))+f[2]-51403784;d=(d<<9|d>>>23)+a<<0;c+=(a^b&(d^a))+f[7]+1735328473;c=(c<<14|c>>>18)+d<<0;b+=(d^a&(c^d))+f[12]-1926607734;b=(b<<20|b>>>12)+c<<0;e=b^c;a+=(e^d)+f[5]-378558;a=(a<<4|a>>>28)+b<<0;d+=(e^a)+f[8]-2022574463;d=(d<<11|d>>>21)+a<<0;e=d^a;c+=(e^b)+f[11]+1839030562;c=(c<<16|c>>>16)+d<<0;b+=(e^c)+f[14]-35309556;b=(b<<23|b>>>9)+c<<0;e=b^c;a+=(e^d)+f[1]-1530992060;a=(a<<4|a>>>28)+b<<0;d+=(e^a)+f[4]+1272893353;d=(d<<11|d>>>21)+a<<0;e=d^a;c+=(e^b)+f[7]-155497632;c=(c<<16|c>>>
16)+d<<0;b+=(e^c)+f[10]-1094730640;b=(b<<23|b>>>9)+c<<0;e=b^c;a+=(e^d)+f[13]+681279174;a=(a<<4|a>>>28)+b<<0;d+=(e^a)+f[0]-358537222;d=(d<<11|d>>>21)+a<<0;e=d^a;c+=(e^b)+f[3]-722521979;c=(c<<16|c>>>16)+d<<0;b+=(e^c)+f[6]+76029189;b=(b<<23|b>>>9)+c<<0;e=b^c;a+=(e^d)+f[9]-640364487;a=(a<<4|a>>>28)+b<<0;d+=(e^a)+f[12]-421815835;d=(d<<11|d>>>21)+a<<0;e=d^a;c+=(e^b)+f[15]+530742520;c=(c<<16|c>>>16)+d<<0;b+=(e^c)+f[2]-995338651;b=(b<<23|b>>>9)+c<<0;a+=(c^(b|~d))+f[0]-198630844;a=(a<<6|a>>>26)+b<<0;d+=(b^
(a|~c))+f[7]+1126891415;d=(d<<10|d>>>22)+a<<0;c+=(a^(d|~b))+f[14]-1416354905;c=(c<<15|c>>>17)+d<<0;b+=(d^(c|~a))+f[5]-57434055;b=(b<<21|b>>>11)+c<<0;a+=(c^(b|~d))+f[12]+1700485571;a=(a<<6|a>>>26)+b<<0;d+=(b^(a|~c))+f[3]-1894986606;d=(d<<10|d>>>22)+a<<0;c+=(a^(d|~b))+f[10]-1051523;c=(c<<15|c>>>17)+d<<0;b+=(d^(c|~a))+f[1]-2054922799;b=(b<<21|b>>>11)+c<<0;a+=(c^(b|~d))+f[8]+1873313359;a=(a<<6|a>>>26)+b<<0;d+=(b^(a|~c))+f[15]-30611744;d=(d<<10|d>>>22)+a<<0;c+=(a^(d|~b))+f[6]-1560198380;c=(c<<15|c>>>17)+
d<<0;b+=(d^(c|~a))+f[13]+1309151649;b=(b<<21|b>>>11)+c<<0;a+=(c^(b|~d))+f[4]-145523070;a=(a<<6|a>>>26)+b<<0;d+=(b^(a|~c))+f[11]-1120210379;d=(d<<10|d>>>22)+a<<0;c+=(a^(d|~b))+f[2]+718787259;c=(c<<15|c>>>17)+d<<0;b+=(d^(c|~a))+f[9]-343485551;b=(b<<21|b>>>11)+c<<0;this.first?(this.h0=a+1732584193<<0,this.h1=b-271733879<<0,this.h2=c-1732584194<<0,this.h3=d+271733878<<0,this.first=!1):(this.h0=this.h0+a<<0,this.h1=this.h1+b<<0,this.h2=this.h2+c<<0,this.h3=this.h3+d<<0)};c.prototype.hex=function(){this.finalize();
var a=this.h0,b=this.h1,c=this.h2,d=this.h3;return f[a>>4&15]+f[a&15]+f[a>>12&15]+f[a>>8&15]+f[a>>20&15]+f[a>>16&15]+f[a>>28&15]+f[a>>24&15]+f[b>>4&15]+f[b&15]+f[b>>12&15]+f[b>>8&15]+f[b>>20&15]+f[b>>16&15]+f[b>>28&15]+f[b>>24&15]+f[c>>4&15]+f[c&15]+f[c>>12&15]+f[c>>8&15]+f[c>>20&15]+f[c>>16&15]+f[c>>28&15]+f[c>>24&15]+f[d>>4&15]+f[d&15]+f[d>>12&15]+f[d>>8&15]+f[d>>20&15]+f[d>>16&15]+f[d>>28&15]+f[d>>24&15]};c.prototype.toString=c.prototype.hex;c.prototype.digest=function(){this.finalize();var a=
this.h0,b=this.h1,c=this.h2,d=this.h3;return[a&255,a>>8&255,a>>16&255,a>>24&255,b&255,b>>8&255,b>>16&255,b>>24&255,c&255,c>>8&255,c>>16&255,c>>24&255,d&255,d>>8&255,d>>16&255,d>>24&255]};c.prototype.array=c.prototype.digest;c.prototype.arrayBuffer=function(){this.finalize();var a=new ArrayBuffer(16),b=new Uint32Array(a);b[0]=this.h0;b[1]=this.h1;b[2]=this.h2;b[3]=this.h3;return a};c.prototype.buffer=c.prototype.arrayBuffer;c.prototype.base64=function(){for(var a,b,c,d="",e=this.array(),f=0;15>f;)a=
e[f++],b=e[f++],c=e[f++],d+=n[a>>>2]+n[(a<<4|b>>>4)&63]+n[(b<<2|c>>>6)&63]+n[c&63];a=e[f];return d+=n[a>>>2]+n[a<<4&63]+"=="};k=function(){var a=p("hex");e&&(a=v(a));a.create=function(){return new c};a.update=function(b){return a.create().update(b)};for(var b=0;b<h.length;++b){var d=h[b];a[d]=p(d)}return a}();b?a.exports=k:d.md5=k})()}),S=function(){this._compress=!0;this.reset()};S.MAGIC_NUMBER=function(){return"PIXPIPE_PIXBIN"};S.prototype.reset=function(){this._inputs=[];this._output=null;this._options=
{madeWith:"pixbincodec_js",userObject:null,description:null}};S.prototype.enableDataCompression=function(a){this._compress=a};S.prototype.setOption=function(a,c){a in this._options&&(this._options[a]=c)};S.prototype.addInput=function(a){N.isGoodCandidate(a)&&this._inputs.push(a)};S.prototype.getOutput=function(){return this._output};S.prototype.run=function(){if(this._inputs.length){var a=this,c=new Date,b=q.isPlatformLittleEndian(),d=new N,c={date:c.toISOString(),createdWith:this._options.madeWith,
description:this._options.description,userObject:this._options.userObject,pixblocksInfo:[]},e=[],g=c.pixblocksInfo;this._inputs.forEach(function(b,c){d.setInput(b);d.enableDataCompression(a._compress);d.run();var f=d.getOutput();f?(b={type:b.constructor.name,description:"description"in b._metadata?b._metadata.description:null,byteLength:f.byteLength,checksum:kb(f)},g.push(b),e.push(f)):console.warn("The input of index "+c+" could not be encoded as a PixBlock.")});e.length||console.warn("No input was compatible for PixBlock encoding.");
var c=q.objectToArrayBuffer(c),f=S.MAGIC_NUMBER(),l=new ArrayBuffer(f.length+5),m=new DataView(l);q.setString8InBuffer(f,l);m.setUint8(f.length,+b);m.setUint32(f.length+1,c.byteLength,b);b=[l,c].concat(e);this._output=q.mergeBuffers(b)}else console.warn("The encoder must be specified at least one input.")};var M=function(){this._verifyChecksum=!1;this._binMeta=this._output=this._input=null;this._parsingInfo={offsetToReachFirstBlock:-1,isLittleEndian:-1};this._decodedBlocks={};this._isValid=!1;this.reset()};
M.prototype.setInput=function(a){this.reset();a instanceof ArrayBuffer&&(this._input=a,this._isValid=this._parseIndex())};M.prototype.isValid=function(){return this._isValid};M.prototype.getOutput=function(){return this._output};M.prototype.getNumberOfBlocks=function(){return this._binMeta.pixblocksInfo.length};M.prototype.getBinCreationDate=function(){return this._binMeta.date};M.prototype.getBinDescription=function(){return this._binMeta.description};M.prototype.getBinUserObject=function(){return this._binMeta.userObject};
M.prototype.getBlockDescription=function(a){return 0>a||a>=this.getNumberOfBlocks()?(console.warn("The block index is out of range."),null):this._binMeta.pixblocksInfo[a].description};M.prototype.getBlockType=function(a){return 0>a||a>=this.getNumberOfBlocks()?(console.warn("The block index is out of range."),null):this._binMeta.pixblocksInfo[a].type};M.prototype.reset=function(){this._isValid=!1;this._binMeta=this._output=this._input=null;this._parsingInfo={offsetToReachFirstBlock:-1,isLittleEndian:-1};
this._decodedBlocks={}};M.prototype.enableBlockVerification=function(a){this._verifyChecksum=a};M.prototype._parseIndex=function(){var a=this._input;if(!a)return console.warn("Input cannot be null"),!1;var c=a.byteLength,b=S.MAGIC_NUMBER();if(c<b.length+5)return console.warn("This buffer does not match a PixBin file."),!1;var d=new DataView(a);if(q.getString8FromBuffer(a,b.length)!==b)return console.warn("This file is not of PixBin type. (wrong magic number)"),!1;b=b.length;c=d.getUint8(b);if(0!=
c&&1!=c)return console.warn("This file is not of PixBin type. (wrong endianess code)"),!1;b+=1;d=d.getUint32(b,c);b+=4;a=q.ArrayBufferToObject(a.slice(b,b+d));this._parsingInfo.offsetToReachFirstBlock=b+d;this._parsingInfo.isLittleEndian=c;this._binMeta=a;return!0};M.prototype.fetchBlock=function(a,c){c=void 0===c?!1:c;var b=this.getNumberOfBlocks();if(0>a||a>=b)return console.warn("The block index is out of range."),null;if(a in this._decodedBlocks&&!c)return this._decodedBlocks[a];c=this._parsingInfo.offsetToReachFirstBlock;
for(b=0;b<a;b++)c+=this._binMeta.pixblocksInfo[b].byteLength;b=this._binMeta.pixblocksInfo[a];c=this._input.slice(c,c+b.byteLength);if(this._verifyChecksum&&kb(c)!==b.checksum)return console.warn("The block #"+a+" is corrupted."),null;b=new fa;b.setInput(c);b.run();c=b.getOutput();return c?this._decodedBlocks[a]=c:(console.warn("The block #"+a+" could not be decoded."),null)};m.PixBlockEncoder=N;m.PixBlockDecoder=fa;m.PixBinEncoder=S;m.PixBinDecoder=M;Object.defineProperty(m,"__esModule",{value:!0})});
