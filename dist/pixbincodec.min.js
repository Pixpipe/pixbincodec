// Build date: 2017-1011T12:35:11

/*
* Author    Jonathan Lurie - http://me.jonathanlurie.fr
* License   MIT
* Link      https://github.com/jonathanlurie/pixbincodec
* Lab       MCIN - http://mcin.ca/ - Montreal Neurological Institute
*/
/*
 Chen, Yi-Cyuan 2014-2017
 @license MIT
*/
'use strict';var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(h,u,x){if(x.get||x.set)throw new TypeError("ES3 does not support getters and setters.");h!=Array.prototype&&h!=Object.prototype&&(h[u]=x.value)};$jscomp.getGlobal=function(h){return"undefined"!=typeof window&&window===h?h:"undefined"!=typeof global&&null!=global?global:h};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(h){return $jscomp.SYMBOL_PREFIX+(h||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var h=$jscomp.global.Symbol.iterator;h||(h=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[h]&&$jscomp.defineProperty(Array.prototype,h,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(h){var u=0;return $jscomp.iteratorPrototype(function(){return u<h.length?{done:!1,value:h[u++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(h){$jscomp.initSymbolIterator();h={next:h};h[$jscomp.global.Symbol.iterator]=function(){return this};return h};$jscomp.iteratorFromArray=function(h,u){$jscomp.initSymbolIterator();h instanceof String&&(h+="");var x=0,p={next:function(){if(x<h.length){var z=x++;return{value:u(z,h[z]),done:!1}}p.next=function(){return{done:!0,value:void 0}};return p.next()}};p[Symbol.iterator]=function(){return p};return p};
$jscomp.polyfill=function(h,u,x,p){if(u){x=$jscomp.global;h=h.split(".");for(p=0;p<h.length-1;p++){var z=h[p];z in x||(x[z]={});x=x[z]}h=h[h.length-1];p=x[h];u=u(p);u!=p&&null!=u&&$jscomp.defineProperty(x,h,{configurable:!0,writable:!0,value:u})}};$jscomp.polyfill("Array.prototype.keys",function(h){return h?h:function(){return $jscomp.iteratorFromArray(this,function(h){return h})}},"es6-impl","es3");
$jscomp.makeIterator=function(h){$jscomp.initSymbolIterator();var u=h[Symbol.iterator];return u?u.call(h):$jscomp.arrayIterator(h)};$jscomp.EXPOSE_ASYNC_EXECUTOR=!0;$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(h){function u(){this.batch_=null}if(h&&!$jscomp.FORCE_POLYFILL_PROMISE)return h;u.prototype.asyncExecute=function(r){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(r);return this};u.prototype.asyncExecuteBatch_=function(){var r=this;this.asyncExecuteFunction(function(){r.executeBatch_()})};var x=$jscomp.global.setTimeout;u.prototype.asyncExecuteFunction=function(r){x(r,0)};u.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var r=
this.batch_;this.batch_=[];for(var B=0;B<r.length;++B){var h=r[B];delete r[B];try{h()}catch(ga){this.asyncThrow_(ga)}}}this.batch_=null};u.prototype.asyncThrow_=function(r){this.asyncExecuteFunction(function(){throw r;})};var p=function(r){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var h=this.createResolveAndReject_();try{r(h.resolve,h.reject)}catch(D){h.reject(D)}};p.prototype.createResolveAndReject_=function(){function r(r){return function(B){p||(p=!0,r.call(h,B))}}var h=this,
p=!1;return{resolve:r(this.resolveTo_),reject:r(this.reject_)}};p.prototype.resolveTo_=function(r){if(r===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(r instanceof p)this.settleSameAsPromise_(r);else{var h;a:switch(typeof r){case "object":h=null!=r;break a;case "function":h=!0;break a;default:h=!1}h?this.resolveToNonPromiseObj_(r):this.fulfill_(r)}};p.prototype.resolveToNonPromiseObj_=function(h){var r=void 0;try{r=h.then}catch(D){this.reject_(D);return}"function"==
typeof r?this.settleSameAsThenable_(r,h):this.fulfill_(h)};p.prototype.reject_=function(h){this.settle_(2,h)};p.prototype.fulfill_=function(h){this.settle_(1,h)};p.prototype.settle_=function(h,p){if(0!=this.state_)throw Error("Cannot settle("+h+", "+p|"): Promise already settled in state"+this.state_);this.state_=h;this.result_=p;this.executeOnSettledCallbacks_()};p.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var h=this.onSettledCallbacks_,p=0;p<h.length;++p)h[p].call(),
h[p]=null;this.onSettledCallbacks_=null}};var z=new u;p.prototype.settleSameAsPromise_=function(h){var p=this.createResolveAndReject_();h.callWhenSettled_(p.resolve,p.reject)};p.prototype.settleSameAsThenable_=function(h,p){var r=this.createResolveAndReject_();try{h.call(p,r.resolve,r.reject)}catch(ga){r.reject(ga)}};p.prototype.then=function(h,B){function r(h,p){return"function"==typeof h?function(p){try{u(h(p))}catch(va){x(va)}}:p}var u,x,z=new p(function(h,p){u=h;x=p});this.callWhenSettled_(r(h,
u),r(B,x));return z};p.prototype.catch=function(h){return this.then(void 0,h)};p.prototype.callWhenSettled_=function(h,p){function r(){switch(u.state_){case 1:h(u.result_);break;case 2:p(u.result_);break;default:throw Error("Unexpected state: "+u.state_);}}var u=this;null==this.onSettledCallbacks_?z.asyncExecute(r):this.onSettledCallbacks_.push(function(){z.asyncExecute(r)})};p.resolve=function(h){return h instanceof p?h:new p(function(p,r){p(h)})};p.reject=function(h){return new p(function(p,r){r(h)})};
p.race=function(h){return new p(function(r,u){for(var x=$jscomp.makeIterator(h),B=x.next();!B.done;B=x.next())p.resolve(B.value).callWhenSettled_(r,u)})};p.all=function(h){var r=$jscomp.makeIterator(h),u=r.next();return u.done?p.resolve([]):new p(function(h,x){function B(p){return function(r){z[p]=r;D--;0==D&&h(z)}}var z=[],D=0;do z.push(void 0),D++,p.resolve(u.value).callWhenSettled_(B(z.length-1),x),u=r.next();while(!u.done)})};$jscomp.EXPOSE_ASYNC_EXECUTOR&&(p.$jscomp$new$AsyncExecutor=function(){return new u});
return p},"es6-impl","es3");
(function(h,u){"object"===typeof exports&&"undefined"!==typeof module?u(exports):"function"===typeof define&&define.amd?define(["exports"],u):u(h.pixbincodec={})})(this,function(h){function u(a,c){return c={exports:{}},a(c,c.exports),c.exports}function x(a){for(var c=a.length;0<=--c;)a[c]=0}function p(a,c,b,d,e){this.static_tree=a;this.extra_bits=c;this.extra_base=b;this.elems=d;this.max_length=e;this.has_stree=a&&a.length}function z(a,c){this.dyn_tree=a;this.max_code=0;this.stat_desc=c}function r(a,
c){a.pending_buf[a.pending++]=c&255;a.pending_buf[a.pending++]=c>>>8&255}function B(a,c,b){a.bi_valid>16-b?(a.bi_buf|=c<<a.bi_valid&65535,r(a,a.bi_buf),a.bi_buf=c>>16-a.bi_valid,a.bi_valid+=b-16):(a.bi_buf|=c<<a.bi_valid&65535,a.bi_valid+=b)}function D(a,c,b){B(a,b[2*c],b[2*c+1])}function ga(a,c){var b=0;do b|=a&1,a>>>=1,b<<=1;while(0<--c);return b>>>1}function Oa(a,c,b){var d=Array(16),e=0,f;for(f=1;15>=f;f++)d[f]=e=e+b[f-1]<<1;for(b=0;b<=c;b++)e=a[2*b+1],0!==e&&(a[2*b]=ga(d[e]++,e))}function Ra(a){var c;
for(c=0;286>c;c++)a.dyn_ltree[2*c]=0;for(c=0;30>c;c++)a.dyn_dtree[2*c]=0;for(c=0;19>c;c++)a.bl_tree[2*c]=0;a.dyn_ltree[512]=1;a.opt_len=a.static_len=0;a.last_lit=a.matches=0}function Pa(a){8<a.bi_valid?r(a,a.bi_buf):0<a.bi_valid&&(a.pending_buf[a.pending++]=a.bi_buf);a.bi_buf=0;a.bi_valid=0}function Qa(a,c,b,d){var e=2*c,f=2*b;return a[e]<a[f]||a[e]===a[f]&&d[c]<=d[b]}function Ca(a,c,b){for(var d=a.heap[b],e=b<<1;e<=a.heap_len;){e<a.heap_len&&Qa(c,a.heap[e+1],a.heap[e],a.depth)&&e++;if(Qa(c,d,a.heap[e],
a.depth))break;a.heap[b]=a.heap[e];b=e;e<<=1}a.heap[b]=d}function va(a,c,b){var d,e,f=0,g,l;if(0!==a.last_lit){do d=a.pending_buf[a.d_buf+2*f]<<8|a.pending_buf[a.d_buf+2*f+1],e=a.pending_buf[a.l_buf+f],f++,0===d?D(a,e,c):(g=ma[e],D(a,g+256+1,c),l=Da[g],0!==l&&(e-=Ea[g],B(a,e,l)),d--,g=256>d?X[d]:X[256+(d>>>7)],D(a,g,b),l=wa[g],0!==l&&(d-=xa[g],B(a,d,l)));while(f<a.last_lit)}D(a,256,c)}function Fa(a,c){var b=c.dyn_tree,d=c.stat_desc.static_tree,e=c.stat_desc.has_stree,f=c.stat_desc.elems,g,l=-1,w;
a.heap_len=0;a.heap_max=573;for(g=0;g<f;g++)0!==b[2*g]?(a.heap[++a.heap_len]=l=g,a.depth[g]=0):b[2*g+1]=0;for(;2>a.heap_len;)w=a.heap[++a.heap_len]=2>l?++l:0,b[2*w]=1,a.depth[w]=0,a.opt_len--,e&&(a.static_len-=d[2*w+1]);c.max_code=l;for(g=a.heap_len>>1;1<=g;g--)Ca(a,b,g);w=f;do g=a.heap[1],a.heap[1]=a.heap[a.heap_len--],Ca(a,b,1),d=a.heap[1],a.heap[--a.heap_max]=g,a.heap[--a.heap_max]=d,b[2*w]=b[2*g]+b[2*d],a.depth[w]=(a.depth[g]>=a.depth[d]?a.depth[g]:a.depth[d])+1,b[2*g+1]=b[2*d+1]=w,a.heap[1]=
w++,Ca(a,b,1);while(2<=a.heap_len);a.heap[--a.heap_max]=a.heap[1];g=c.dyn_tree;w=c.max_code;var d=c.stat_desc.static_tree,e=c.stat_desc.has_stree,f=c.stat_desc.extra_bits,k=c.stat_desc.extra_base,n=c.stat_desc.max_length,t,h,m,q,p=0;for(h=0;15>=h;h++)a.bl_count[h]=0;g[2*a.heap[a.heap_max]+1]=0;for(c=a.heap_max+1;573>c;c++)t=a.heap[c],h=g[2*g[2*t+1]+1]+1,h>n&&(h=n,p++),g[2*t+1]=h,t>w||(a.bl_count[h]++,m=0,t>=k&&(m=f[t-k]),q=g[2*t],a.opt_len+=q*(h+m),e&&(a.static_len+=q*(d[2*t+1]+m)));if(0!==p){do{for(h=
n-1;0===a.bl_count[h];)h--;a.bl_count[h]--;a.bl_count[h+1]+=2;a.bl_count[n]--;p-=2}while(0<p);for(h=n;0!==h;h--)for(t=a.bl_count[h];0!==t;)d=a.heap[--c],d>w||(g[2*d+1]!==h&&(a.opt_len+=(h-g[2*d+1])*g[2*d],g[2*d+1]=h),t--)}Oa(b,l,a.bl_count)}function Sa(a,c,b){var d,e=-1,f,g=c[1],l=0,w=7,k=4;0===g&&(w=138,k=3);c[2*(b+1)+1]=65535;for(d=0;d<=b;d++)f=g,g=c[2*(d+1)+1],++l<w&&f===g||(l<k?a.bl_tree[2*f]+=l:0!==f?(f!==e&&a.bl_tree[2*f]++,a.bl_tree[32]++):10>=l?a.bl_tree[34]++:a.bl_tree[36]++,l=0,e=f,0===
g?(w=138,k=3):f===g?(w=6,k=3):(w=7,k=4))}function Ta(a,c,b){var d,e=-1,f,g=c[1],l=0,w=7,k=4;0===g&&(w=138,k=3);for(d=0;d<=b;d++)if(f=g,g=c[2*(d+1)+1],!(++l<w&&f===g)){if(l<k){do D(a,f,a.bl_tree);while(0!==--l)}else 0!==f?(f!==e&&(D(a,f,a.bl_tree),l--),D(a,16,a.bl_tree),B(a,l-3,2)):10>=l?(D(a,17,a.bl_tree),B(a,l-3,3)):(D(a,18,a.bl_tree),B(a,l-11,7));l=0;e=f;0===g?(w=138,k=3):f===g?(w=6,k=3):(w=7,k=4)}}function zb(a){var c=4093624447,b;for(b=0;31>=b;b++,c>>>=1)if(c&1&&0!==a.dyn_ltree[2*b])return 0;
if(0!==a.dyn_ltree[18]||0!==a.dyn_ltree[20]||0!==a.dyn_ltree[26])return 1;for(b=32;256>b;b++)if(0!==a.dyn_ltree[2*b])return 1;return 0}function Ua(a,c,b,d){B(a,0+(d?1:0),3);Pa(a);r(a,b);r(a,~b);y.arraySet(a.pending_buf,a.window,c,b,a.pending);a.pending+=b}function R(a,c){a.msg=ha[c];return c}function S(a){for(var c=a.length;0<=--c;)a[c]=0}function T(a){var c=a.state,b=c.pending;b>a.avail_out&&(b=a.avail_out);0!==b&&(y.arraySet(a.output,c.pending_buf,c.pending_out,b,a.next_out),a.next_out+=b,c.pending_out+=
b,a.total_out+=b,a.avail_out-=b,c.pending-=b,0===c.pending&&(c.pending_out=0))}function L(a,c){N._tr_flush_block(a,0<=a.block_start?a.block_start:-1,a.strstart-a.block_start,c);a.block_start=a.strstart;T(a.strm)}function A(a,c){a.pending_buf[a.pending++]=c}function na(a,c){a.pending_buf[a.pending++]=c>>>8&255;a.pending_buf[a.pending++]=c&255}function Va(a,c){var b=a.max_chain_length,d=a.strstart,e,f=a.prev_length,g=a.nice_match,l=a.strstart>a.w_size-262?a.strstart-(a.w_size-262):0,w=a.window,k=a.w_mask,
n=a.prev,h=a.strstart+258,p=w[d+f-1],m=w[d+f];a.prev_length>=a.good_match&&(b>>=2);g>a.lookahead&&(g=a.lookahead);do if(e=c,w[e+f]===m&&w[e+f-1]===p&&w[e]===w[d]&&w[++e]===w[d+1]){d+=2;for(e++;w[++d]===w[++e]&&w[++d]===w[++e]&&w[++d]===w[++e]&&w[++d]===w[++e]&&w[++d]===w[++e]&&w[++d]===w[++e]&&w[++d]===w[++e]&&w[++d]===w[++e]&&d<h;);e=258-(h-d);d=h-258;if(e>f){a.match_start=c;f=e;if(e>=g)break;p=w[d+f-1];m=w[d+f]}}while((c=n[c&k])>l&&0!==--b);return f<=a.lookahead?f:a.lookahead}function Y(a){var c=
a.w_size,b,d,e,f;do{f=a.window_size-a.lookahead-a.strstart;if(a.strstart>=c+(c-262)){y.arraySet(a.window,a.window,c,c,0);a.match_start-=c;a.strstart-=c;a.block_start-=c;b=d=a.hash_size;do e=a.head[--b],a.head[b]=e>=c?e-c:0;while(--d);b=d=c;do e=a.prev[--b],a.prev[b]=e>=c?e-c:0;while(--d);f+=c}if(0===a.strm.avail_in)break;b=a.strm;d=a.window;e=a.strstart+a.lookahead;var g=b.avail_in;g>f&&(g=f);0===g?d=0:(b.avail_in-=g,y.arraySet(d,b.input,b.next_in,g,e),1===b.state.wrap?b.adler=oa(b.adler,d,g,e):2===
b.state.wrap&&(b.adler=K(b.adler,d,g,e)),b.next_in+=g,b.total_in+=g,d=g);a.lookahead+=d;if(3<=a.lookahead+a.insert)for(f=a.strstart-a.insert,a.ins_h=a.window[f],a.ins_h=(a.ins_h<<a.hash_shift^a.window[f+1])&a.hash_mask;a.insert&&!(a.ins_h=(a.ins_h<<a.hash_shift^a.window[f+3-1])&a.hash_mask,a.prev[f&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=f,f++,a.insert--,3>a.lookahead+a.insert););}while(262>a.lookahead&&0!==a.strm.avail_in)}function Ga(a,c){for(var b;;){if(262>a.lookahead){Y(a);if(262>a.lookahead&&
0===c)return 1;if(0===a.lookahead)break}b=0;3<=a.lookahead&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+3-1])&a.hash_mask,b=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);0!==b&&a.strstart-b<=a.w_size-262&&(a.match_length=Va(a,b));if(3<=a.match_length)if(b=N._tr_tally(a,a.strstart-a.match_start,a.match_length-3),a.lookahead-=a.match_length,a.match_length<=a.max_lazy_match&&3<=a.lookahead){a.match_length--;do a.strstart++,a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+
3-1])&a.hash_mask,a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart;while(0!==--a.match_length);a.strstart++}else a.strstart+=a.match_length,a.match_length=0,a.ins_h=a.window[a.strstart],a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+1])&a.hash_mask;else b=N._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++;if(b&&(L(a,!1),0===a.strm.avail_out))return 1}a.insert=2>a.strstart?a.strstart:2;return 4===c?(L(a,!0),0===a.strm.avail_out?3:4):a.last_lit&&(L(a,!1),0===
a.strm.avail_out)?1:2}function ia(a,c){for(var b,d;;){if(262>a.lookahead){Y(a);if(262>a.lookahead&&0===c)return 1;if(0===a.lookahead)break}b=0;3<=a.lookahead&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+3-1])&a.hash_mask,b=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);a.prev_length=a.match_length;a.prev_match=a.match_start;a.match_length=2;0!==b&&a.prev_length<a.max_lazy_match&&a.strstart-b<=a.w_size-262&&(a.match_length=Va(a,b),5>=a.match_length&&(1===a.strategy||
3===a.match_length&&4096<a.strstart-a.match_start)&&(a.match_length=2));if(3<=a.prev_length&&a.match_length<=a.prev_length){d=a.strstart+a.lookahead-3;b=N._tr_tally(a,a.strstart-1-a.prev_match,a.prev_length-3);a.lookahead-=a.prev_length-1;a.prev_length-=2;do++a.strstart<=d&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+3-1])&a.hash_mask,a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);while(0!==--a.prev_length);a.match_available=0;a.match_length=2;a.strstart++;if(b&&(L(a,
!1),0===a.strm.avail_out))return 1}else if(a.match_available){if((b=N._tr_tally(a,0,a.window[a.strstart-1]))&&L(a,!1),a.strstart++,a.lookahead--,0===a.strm.avail_out)return 1}else a.match_available=1,a.strstart++,a.lookahead--}a.match_available&&(N._tr_tally(a,0,a.window[a.strstart-1]),a.match_available=0);a.insert=2>a.strstart?a.strstart:2;return 4===c?(L(a,!0),0===a.strm.avail_out?3:4):a.last_lit&&(L(a,!1),0===a.strm.avail_out)?1:2}function Ab(a,c){for(var b,d,e,f=a.window;;){if(258>=a.lookahead){Y(a);
if(258>=a.lookahead&&0===c)return 1;if(0===a.lookahead)break}a.match_length=0;if(3<=a.lookahead&&0<a.strstart&&(d=a.strstart-1,b=f[d],b===f[++d]&&b===f[++d]&&b===f[++d])){for(e=a.strstart+258;b===f[++d]&&b===f[++d]&&b===f[++d]&&b===f[++d]&&b===f[++d]&&b===f[++d]&&b===f[++d]&&b===f[++d]&&d<e;);a.match_length=258-(e-d);a.match_length>a.lookahead&&(a.match_length=a.lookahead)}3<=a.match_length?(b=N._tr_tally(a,1,a.match_length-3),a.lookahead-=a.match_length,a.strstart+=a.match_length,a.match_length=
0):(b=N._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++);if(b&&(L(a,!1),0===a.strm.avail_out))return 1}a.insert=0;return 4===c?(L(a,!0),0===a.strm.avail_out?3:4):a.last_lit&&(L(a,!1),0===a.strm.avail_out)?1:2}function Bb(a,c){for(var b;;){if(0===a.lookahead&&(Y(a),0===a.lookahead)){if(0===c)return 1;break}a.match_length=0;b=N._tr_tally(a,0,a.window[a.strstart]);a.lookahead--;a.strstart++;if(b&&(L(a,!1),0===a.strm.avail_out))return 1}a.insert=0;return 4===c?(L(a,!0),0===a.strm.avail_out?
3:4):a.last_lit&&(L(a,!1),0===a.strm.avail_out)?1:2}function O(a,c,b,d,e){this.good_length=a;this.max_lazy=c;this.nice_length=b;this.max_chain=d;this.func=e}function Cb(){this.strm=null;this.status=0;this.pending_buf=null;this.wrap=this.pending=this.pending_out=this.pending_buf_size=0;this.gzhead=null;this.gzindex=0;this.method=8;this.last_flush=-1;this.w_mask=this.w_bits=this.w_size=0;this.window=null;this.window_size=0;this.head=this.prev=null;this.nice_match=this.good_match=this.strategy=this.level=
this.max_lazy_match=this.max_chain_length=this.prev_length=this.lookahead=this.match_start=this.strstart=this.match_available=this.prev_match=this.match_length=this.block_start=this.hash_shift=this.hash_mask=this.hash_bits=this.hash_size=this.ins_h=0;this.dyn_ltree=new y.Buf16(1146);this.dyn_dtree=new y.Buf16(122);this.bl_tree=new y.Buf16(78);S(this.dyn_ltree);S(this.dyn_dtree);S(this.bl_tree);this.bl_desc=this.d_desc=this.l_desc=null;this.bl_count=new y.Buf16(16);this.heap=new y.Buf16(573);S(this.heap);
this.heap_max=this.heap_len=0;this.depth=new y.Buf16(573);S(this.depth);this.bi_valid=this.bi_buf=this.insert=this.matches=this.static_len=this.opt_len=this.d_buf=this.last_lit=this.lit_bufsize=this.l_buf=0}function Wa(a){var c;if(!a||!a.state)return R(a,-2);a.total_in=a.total_out=0;a.data_type=2;c=a.state;c.pending=0;c.pending_out=0;0>c.wrap&&(c.wrap=-c.wrap);c.status=c.wrap?42:113;a.adler=2===c.wrap?0:1;c.last_flush=0;N._tr_init(c);return 0}function Xa(a){var c=Wa(a);0===c&&(a=a.state,a.window_size=
2*a.w_size,S(a.head),a.max_lazy_match=ja[a.level].max_lazy,a.good_match=ja[a.level].good_length,a.nice_match=ja[a.level].nice_length,a.max_chain_length=ja[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=2,a.match_available=0,a.ins_h=0);return c}function Ya(a,c,b,d,e,f){if(!a)return-2;var g=1;-1===c&&(c=6);0>d?(g=0,d=-d):15<d&&(g=2,d-=16);if(1>e||9<e||8!==b||8>d||15<d||0>c||9<c||0>f||4<f)return R(a,-2);8===d&&(d=9);var l=new Cb;a.state=l;l.strm=
a;l.wrap=g;l.gzhead=null;l.w_bits=d;l.w_size=1<<l.w_bits;l.w_mask=l.w_size-1;l.hash_bits=e+7;l.hash_size=1<<l.hash_bits;l.hash_mask=l.hash_size-1;l.hash_shift=~~((l.hash_bits+3-1)/3);l.window=new y.Buf8(2*l.w_size);l.head=new y.Buf16(l.hash_size);l.prev=new y.Buf16(l.w_size);l.lit_bufsize=1<<e+6;l.pending_buf_size=4*l.lit_bufsize;l.pending_buf=new y.Buf8(l.pending_buf_size);l.d_buf=1*l.lit_bufsize;l.l_buf=3*l.lit_bufsize;l.level=c;l.strategy=f;l.method=b;return Xa(a)}function Za(a,c){if(65537>c&&
(a.subarray&&$a||!a.subarray&&ab))return String.fromCharCode.apply(null,y.shrinkBuf(a,c));for(var b="",d=0;d<c;d++)b+=String.fromCharCode(a[d]);return b}function Z(a){if(!(this instanceof Z))return new Z(a);a=this.options=y.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},a||{});a.raw&&0<a.windowBits?a.windowBits=-a.windowBits:a.gzip&&0<a.windowBits&&16>a.windowBits&&(a.windowBits+=16);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new bb;this.strm.avail_out=
0;var c=pa.deflateInit2(this.strm,a.level,a.method,a.windowBits,a.memLevel,a.strategy);if(0!==c)throw Error(ha[c]);a.header&&pa.deflateSetHeader(this.strm,a.header);if(a.dictionary){a="string"===typeof a.dictionary?aa.string2buf(a.dictionary):"[object ArrayBuffer]"===cb.call(a.dictionary)?new Uint8Array(a.dictionary):a.dictionary;c=pa.deflateSetDictionary(this.strm,a);if(0!==c)throw Error(ha[c]);this._dict_set=!0}}function Ha(a,c){c=new Z(c);c.push(a,!0);if(c.err)throw c.msg||ha[c.err];return c.result}
function db(a){return(a>>>24&255)+(a>>>8&65280)+((a&65280)<<8)+((a&255)<<24)}function Db(){this.mode=0;this.last=!1;this.wrap=0;this.havedict=!1;this.total=this.check=this.dmax=this.flags=0;this.head=null;this.wnext=this.whave=this.wsize=this.wbits=0;this.window=null;this.extra=this.offset=this.length=this.bits=this.hold=0;this.distcode=this.lencode=null;this.have=this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=0;this.next=null;this.lens=new y.Buf16(320);this.work=new y.Buf16(288);this.distdyn=
this.lendyn=null;this.was=this.back=this.sane=0}function eb(a){var c;if(!a||!a.state)return-2;c=a.state;a.total_in=a.total_out=c.total=0;a.msg="";c.wrap&&(a.adler=c.wrap&1);c.mode=1;c.last=0;c.havedict=0;c.dmax=32768;c.head=null;c.hold=0;c.bits=0;c.lencode=c.lendyn=new y.Buf32(852);c.distcode=c.distdyn=new y.Buf32(592);c.sane=1;c.back=-1;return 0}function fb(a){var c;if(!a||!a.state)return-2;c=a.state;c.wsize=0;c.whave=0;c.wnext=0;return eb(a)}function gb(a,c){var b,d;if(!a||!a.state)return-2;d=a.state;
0>c?(b=0,c=-c):(b=(c>>4)+1,48>c&&(c&=15));if(c&&(8>c||15<c))return-2;null!==d.window&&d.wbits!==c&&(d.window=null);d.wrap=b;d.wbits=c;return fb(a)}function hb(a,c){var b;if(!a)return-2;b=new Db;a.state=b;b.window=null;c=gb(a,c);0!==c&&(a.state=null);return c}function ib(a,c,b,d){var e=a.state;null===e.window&&(e.wsize=1<<e.wbits,e.wnext=0,e.whave=0,e.window=new y.Buf8(e.wsize));d>=e.wsize?(y.arraySet(e.window,c,b-e.wsize,e.wsize,0),e.wnext=0,e.whave=e.wsize):(a=e.wsize-e.wnext,a>d&&(a=d),y.arraySet(e.window,
c,b-d,a,e.wnext),(d-=a)?(y.arraySet(e.window,c,b-d,d,0),e.wnext=d,e.whave=e.wsize):(e.wnext+=a,e.wnext===e.wsize&&(e.wnext=0),e.whave<e.wsize&&(e.whave+=a)));return 0}function ba(a){if(!(this instanceof ba))return new ba(a);var c=this.options=y.assign({chunkSize:16384,windowBits:0,to:""},a||{});c.raw&&0<=c.windowBits&&16>c.windowBits&&(c.windowBits=-c.windowBits,0===c.windowBits&&(c.windowBits=-15));!(0<=c.windowBits&&16>c.windowBits)||a&&a.windowBits||(c.windowBits+=32);15<c.windowBits&&48>c.windowBits&&
0===(c.windowBits&15)&&(c.windowBits|=15);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new bb;this.strm.avail_out=0;a=qa.inflateInit2(this.strm,c.windowBits);if(a!==C.Z_OK)throw Error(ha[a]);this.header=new Eb;qa.inflateGetHeader(this.strm,this.header)}function Ia(a,c){c=new ba(c);c.push(a,!0);if(c.err)throw c.msg||ha[c.err];return c.result}function jb(){throw Error("setTimeout has not been defined");}function kb(){throw Error("clearTimeout has not been defined");}function lb(a){if(U===
setTimeout)return setTimeout(a,0);if((U===jb||!U)&&setTimeout)return U=setTimeout,setTimeout(a,0);try{return U(a,0)}catch(c){try{return U.call(null,a,0)}catch(b){return U.call(this,a,0)}}}function Fb(a){if(V===clearTimeout)return clearTimeout(a);if((V===kb||!V)&&clearTimeout)return V=clearTimeout,clearTimeout(a);try{return V(a)}catch(c){try{return V.call(null,a)}catch(b){return V.call(this,a)}}}function Gb(){ka&&ca&&(ka=!1,ca.length?P=ca.concat(P):ya=-1,P.length&&mb())}function mb(){if(!ka){var a=
lb(Gb);ka=!0;for(var c=P.length;c;){ca=P;for(P=[];++ya<c;)ca&&ca[ya].run();ya=-1;c=P.length}ca=null;ka=!1;Fb(a)}}function nb(a,c){this.fun=a;this.array=c}function da(){}var Hb="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},y=u(function(a,c){a="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Int32Array;c.assign=function(a){for(var b=Array.prototype.slice.call(arguments,1);b.length;){var c=b.shift();if(c){if("object"!==
typeof c)throw new TypeError(c+"must be non-object");for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}}return a};c.shrinkBuf=function(a,b){if(a.length===b)return a;if(a.subarray)return a.subarray(0,b);a.length=b;return a};var b={arraySet:function(a,b,c,d,w){if(b.subarray&&a.subarray)a.set(b.subarray(c,c+d),w);else for(var e=0;e<d;e++)a[w+e]=b[c+e]},flattenChunks:function(a){var b,c,d,e,k;b=d=0;for(c=a.length;b<c;b++)d+=a[b].length;k=new Uint8Array(d);b=d=0;for(c=a.length;b<c;b++)e=
a[b],k.set(e,d),d+=e.length;return k}},d={arraySet:function(a,b,c,d,w){for(var e=0;e<d;e++)a[w+e]=b[c+e]},flattenChunks:function(a){return[].concat.apply([],a)}};c.setTyped=function(a){a?(c.Buf8=Uint8Array,c.Buf16=Uint16Array,c.Buf32=Int32Array,c.assign(c,b)):(c.Buf8=Array,c.Buf16=Array,c.Buf32=Array,c.assign(c,d))};c.setTyped(a)});"use strict";var Da=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],wa=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Ib=[0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,2,3,7],ob=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Q=Array(576);x(Q);var ra=Array(60);x(ra);var X=Array(512);x(X);var ma=Array(256);x(ma);var Ea=Array(29);x(Ea);var xa=Array(30);x(xa);var pb,qb,rb,sb=!1,N={_tr_init:function(a){if(!sb){var c,b,d,e=Array(16);for(d=b=0;28>d;d++)for(Ea[d]=b,c=0;c<1<<Da[d];c++)ma[b++]=d;ma[b-1]=d;for(d=b=0;16>d;d++)for(xa[d]=b,c=0;c<1<<wa[d];c++)X[b++]=d;for(b>>=7;30>d;d++)for(xa[d]=b<<7,c=0;c<1<<wa[d]-7;c++)X[256+b++]=d;for(c=0;15>=c;c++)e[c]=
0;for(c=0;143>=c;)Q[2*c+1]=8,c++,e[8]++;for(;255>=c;)Q[2*c+1]=9,c++,e[9]++;for(;279>=c;)Q[2*c+1]=7,c++,e[7]++;for(;287>=c;)Q[2*c+1]=8,c++,e[8]++;Oa(Q,287,e);for(c=0;30>c;c++)ra[2*c+1]=5,ra[2*c]=ga(c,5);pb=new p(Q,Da,257,286,15);qb=new p(ra,wa,0,30,15);rb=new p([],Ib,0,19,7);sb=!0}a.l_desc=new z(a.dyn_ltree,pb);a.d_desc=new z(a.dyn_dtree,qb);a.bl_desc=new z(a.bl_tree,rb);a.bi_buf=0;a.bi_valid=0;Ra(a)},_tr_stored_block:Ua,_tr_flush_block:function(a,c,b,d){var e,f,g=0;if(0<a.level){2===a.strm.data_type&&
(a.strm.data_type=zb(a));Fa(a,a.l_desc);Fa(a,a.d_desc);Sa(a,a.dyn_ltree,a.l_desc.max_code);Sa(a,a.dyn_dtree,a.d_desc.max_code);Fa(a,a.bl_desc);for(g=18;3<=g&&0===a.bl_tree[2*ob[g]+1];g--);a.opt_len+=3*(g+1)+14;e=a.opt_len+3+7>>>3;f=a.static_len+3+7>>>3;f<=e&&(e=f)}else e=f=b+5;if(b+4<=e&&-1!==c)Ua(a,c,b,d);else if(4===a.strategy||f===e)B(a,2+(d?1:0),3),va(a,Q,ra);else{B(a,4+(d?1:0),3);c=a.l_desc.max_code+1;b=a.d_desc.max_code+1;g+=1;B(a,c-257,5);B(a,b-1,5);B(a,g-4,4);for(e=0;e<g;e++)B(a,a.bl_tree[2*
ob[e]+1],3);Ta(a,a.dyn_ltree,c-1);Ta(a,a.dyn_dtree,b-1);va(a,a.dyn_ltree,a.dyn_dtree)}Ra(a);d&&Pa(a)},_tr_tally:function(a,c,b){a.pending_buf[a.d_buf+2*a.last_lit]=c>>>8&255;a.pending_buf[a.d_buf+2*a.last_lit+1]=c&255;a.pending_buf[a.l_buf+a.last_lit]=b&255;a.last_lit++;0===c?a.dyn_ltree[2*b]++:(a.matches++,c--,a.dyn_ltree[2*(ma[b]+256+1)]++,a.dyn_dtree[2*(256>c?X[c]:X[256+(c>>>7)])]++);return a.last_lit===a.lit_bufsize-1},_tr_align:function(a){B(a,2,3);D(a,256,Q);16===a.bi_valid?(r(a,a.bi_buf),a.bi_buf=
0,a.bi_valid=0):8<=a.bi_valid&&(a.pending_buf[a.pending++]=a.bi_buf&255,a.bi_buf>>=8,a.bi_valid-=8)}};"use strict";var oa=function(a,c,b,d){var e=a&65535|0;a=a>>>16&65535|0;for(var f;0!==b;){f=2E3<b?2E3:b;b-=f;do e=e+c[d++]|0,a=a+e|0;while(--f);e%=65521;a%=65521}return e|a<<16|0};"use strict";var Jb=function(){for(var a,c=[],b=0;256>b;b++){a=b;for(var d=0;8>d;d++)a=a&1?3988292384^a>>>1:a>>>1;c[b]=a}return c}(),K=function(a,c,b,d){b=d+b;for(a^=-1;d<b;d++)a=a>>>8^Jb[(a^c[d])&255];return a^-1};"use strict";
var ha={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};"use strict";var ja;ja=[new O(0,0,0,0,function(a,c){var b=65535;for(b>a.pending_buf_size-5&&(b=a.pending_buf_size-5);;){if(1>=a.lookahead){Y(a);if(0===a.lookahead&&0===c)return 1;if(0===a.lookahead)break}a.strstart+=a.lookahead;a.lookahead=0;var d=a.block_start+b;if(0===a.strstart||a.strstart>=d)if(a.lookahead=a.strstart-
d,a.strstart=d,L(a,!1),0===a.strm.avail_out)return 1;if(a.strstart-a.block_start>=a.w_size-262&&(L(a,!1),0===a.strm.avail_out))return 1}a.insert=0;if(4===c)return L(a,!0),0===a.strm.avail_out?3:4;a.strstart>a.block_start&&L(a,!1);return 1}),new O(4,4,8,4,Ga),new O(4,5,16,8,Ga),new O(4,6,32,32,Ga),new O(4,4,16,16,ia),new O(8,16,32,32,ia),new O(8,16,128,128,ia),new O(8,32,128,256,ia),new O(32,128,258,1024,ia),new O(32,258,258,4096,ia)];var pa={deflateInit:function(a,c){return Ya(a,c,8,15,8,0)},deflateInit2:Ya,
deflateReset:Xa,deflateResetKeep:Wa,deflateSetHeader:function(a,c){if(!a||!a.state||2!==a.state.wrap)return-2;a.state.gzhead=c;return 0},deflate:function(a,c){var b,d,e,f;if(!a||!a.state||5<c||0>c)return a?R(a,-2):-2;d=a.state;if(!a.output||!a.input&&0!==a.avail_in||666===d.status&&4!==c)return R(a,0===a.avail_out?-5:-2);d.strm=a;b=d.last_flush;d.last_flush=c;42===d.status&&(2===d.wrap?(a.adler=0,A(d,31),A(d,139),A(d,8),d.gzhead?(A(d,(d.gzhead.text?1:0)+(d.gzhead.hcrc?2:0)+(d.gzhead.extra?4:0)+(d.gzhead.name?
8:0)+(d.gzhead.comment?16:0)),A(d,d.gzhead.time&255),A(d,d.gzhead.time>>8&255),A(d,d.gzhead.time>>16&255),A(d,d.gzhead.time>>24&255),A(d,9===d.level?2:2<=d.strategy||2>d.level?4:0),A(d,d.gzhead.os&255),d.gzhead.extra&&d.gzhead.extra.length&&(A(d,d.gzhead.extra.length&255),A(d,d.gzhead.extra.length>>8&255)),d.gzhead.hcrc&&(a.adler=K(a.adler,d.pending_buf,d.pending,0)),d.gzindex=0,d.status=69):(A(d,0),A(d,0),A(d,0),A(d,0),A(d,0),A(d,9===d.level?2:2<=d.strategy||2>d.level?4:0),A(d,3),d.status=113)):
(e=8+(d.w_bits-8<<4)<<8,e|=(2<=d.strategy||2>d.level?0:6>d.level?1:6===d.level?2:3)<<6,0!==d.strstart&&(e|=32),d.status=113,na(d,e+(31-e%31)),0!==d.strstart&&(na(d,a.adler>>>16),na(d,a.adler&65535)),a.adler=1));if(69===d.status)if(d.gzhead.extra){for(e=d.pending;d.gzindex<(d.gzhead.extra.length&65535)&&(d.pending!==d.pending_buf_size||(d.gzhead.hcrc&&d.pending>e&&(a.adler=K(a.adler,d.pending_buf,d.pending-e,e)),T(a),e=d.pending,d.pending!==d.pending_buf_size));)A(d,d.gzhead.extra[d.gzindex]&255),
d.gzindex++;d.gzhead.hcrc&&d.pending>e&&(a.adler=K(a.adler,d.pending_buf,d.pending-e,e));d.gzindex===d.gzhead.extra.length&&(d.gzindex=0,d.status=73)}else d.status=73;if(73===d.status)if(d.gzhead.name){e=d.pending;do{if(d.pending===d.pending_buf_size&&(d.gzhead.hcrc&&d.pending>e&&(a.adler=K(a.adler,d.pending_buf,d.pending-e,e)),T(a),e=d.pending,d.pending===d.pending_buf_size)){f=1;break}f=d.gzindex<d.gzhead.name.length?d.gzhead.name.charCodeAt(d.gzindex++)&255:0;A(d,f)}while(0!==f);d.gzhead.hcrc&&
d.pending>e&&(a.adler=K(a.adler,d.pending_buf,d.pending-e,e));0===f&&(d.gzindex=0,d.status=91)}else d.status=91;if(91===d.status)if(d.gzhead.comment){e=d.pending;do{if(d.pending===d.pending_buf_size&&(d.gzhead.hcrc&&d.pending>e&&(a.adler=K(a.adler,d.pending_buf,d.pending-e,e)),T(a),e=d.pending,d.pending===d.pending_buf_size)){f=1;break}f=d.gzindex<d.gzhead.comment.length?d.gzhead.comment.charCodeAt(d.gzindex++)&255:0;A(d,f)}while(0!==f);d.gzhead.hcrc&&d.pending>e&&(a.adler=K(a.adler,d.pending_buf,
d.pending-e,e));0===f&&(d.status=103)}else d.status=103;103===d.status&&(d.gzhead.hcrc?(d.pending+2>d.pending_buf_size&&T(a),d.pending+2<=d.pending_buf_size&&(A(d,a.adler&255),A(d,a.adler>>8&255),a.adler=0,d.status=113)):d.status=113);if(0!==d.pending){if(T(a),0===a.avail_out)return d.last_flush=-1,0}else if(0===a.avail_in&&(c<<1)-(4<c?9:0)<=(b<<1)-(4<b?9:0)&&4!==c)return R(a,-5);if(666===d.status&&0!==a.avail_in)return R(a,-5);if(0!==a.avail_in||0!==d.lookahead||0!==c&&666!==d.status){b=2===d.strategy?
Bb(d,c):3===d.strategy?Ab(d,c):ja[d.level].func(d,c);if(3===b||4===b)d.status=666;if(1===b||3===b)return 0===a.avail_out&&(d.last_flush=-1),0;if(2===b&&(1===c?N._tr_align(d):5!==c&&(N._tr_stored_block(d,0,0,!1),3===c&&(S(d.head),0===d.lookahead&&(d.strstart=0,d.block_start=0,d.insert=0))),T(a),0===a.avail_out))return d.last_flush=-1,0}if(4!==c)return 0;if(0>=d.wrap)return 1;2===d.wrap?(A(d,a.adler&255),A(d,a.adler>>8&255),A(d,a.adler>>16&255),A(d,a.adler>>24&255),A(d,a.total_in&255),A(d,a.total_in>>
8&255),A(d,a.total_in>>16&255),A(d,a.total_in>>24&255)):(na(d,a.adler>>>16),na(d,a.adler&65535));T(a);0<d.wrap&&(d.wrap=-d.wrap);return 0!==d.pending?0:1},deflateEnd:function(a){var c;if(!a||!a.state)return-2;c=a.state.status;if(42!==c&&69!==c&&73!==c&&91!==c&&103!==c&&113!==c&&666!==c)return R(a,-2);a.state=null;return 113===c?R(a,-3):0},deflateSetDictionary:function(a,c){var b=c.length,d,e,f,g,l;if(!a||!a.state)return-2;d=a.state;e=d.wrap;if(2===e||1===e&&42!==d.status||d.lookahead)return-2;1===
e&&(a.adler=oa(a.adler,c,b,0));d.wrap=0;b>=d.w_size&&(0===e&&(S(d.head),d.strstart=0,d.block_start=0,d.insert=0),f=new y.Buf8(d.w_size),y.arraySet(f,c,b-d.w_size,d.w_size,0),c=f,b=d.w_size);f=a.avail_in;g=a.next_in;l=a.input;a.avail_in=b;a.next_in=0;a.input=c;for(Y(d);3<=d.lookahead;){c=d.strstart;b=d.lookahead-2;do d.ins_h=(d.ins_h<<d.hash_shift^d.window[c+3-1])&d.hash_mask,d.prev[c&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=c,c++;while(--b);d.strstart=c;d.lookahead=2;Y(d)}d.strstart+=d.lookahead;
d.block_start=d.strstart;d.insert=d.lookahead;d.lookahead=0;d.match_length=d.prev_length=2;d.match_available=0;a.next_in=g;a.input=l;a.avail_in=f;d.wrap=e;return 0},deflateInfo:"pako deflate (from Nodeca project)"};"use strict";var ab=!0,$a=!0;try{String.fromCharCode.apply(null,[0])}catch(a){ab=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(a){$a=!1}for(var sa=new y.Buf8(256),W=0;256>W;W++)sa[W]=252<=W?6:248<=W?5:240<=W?4:224<=W?3:192<=W?2:1;sa[254]=sa[254]=1;var aa={string2buf:function(a){var c,
b,d,e,f,g=a.length,l=0;for(e=0;e<g;e++)b=a.charCodeAt(e),55296===(b&64512)&&e+1<g&&(d=a.charCodeAt(e+1),56320===(d&64512)&&(b=65536+(b-55296<<10)+(d-56320),e++)),l+=128>b?1:2048>b?2:65536>b?3:4;c=new y.Buf8(l);for(e=f=0;f<l;e++)b=a.charCodeAt(e),55296===(b&64512)&&e+1<g&&(d=a.charCodeAt(e+1),56320===(d&64512)&&(b=65536+(b-55296<<10)+(d-56320),e++)),128>b?c[f++]=b:(2048>b?c[f++]=192|b>>>6:(65536>b?c[f++]=224|b>>>12:(c[f++]=240|b>>>18,c[f++]=128|b>>>12&63),c[f++]=128|b>>>6&63),c[f++]=128|b&63);return c},
buf2binstring:function(a){return Za(a,a.length)},binstring2buf:function(a){for(var c=new y.Buf8(a.length),b=0,d=c.length;b<d;b++)c[b]=a.charCodeAt(b);return c},buf2string:function(a,c){var b,d,e,f=c||a.length,g=Array(2*f);for(c=b=0;c<f;)if(d=a[c++],128>d)g[b++]=d;else if(e=sa[d],4<e)g[b++]=65533,c+=e-1;else{for(d&=2===e?31:3===e?15:7;1<e&&c<f;)d=d<<6|a[c++]&63,e--;1<e?g[b++]=65533:65536>d?g[b++]=d:(d-=65536,g[b++]=55296|d>>10&1023,g[b++]=56320|d&1023)}return Za(g,b)},utf8border:function(a,c){var b;
c=c||a.length;c>a.length&&(c=a.length);for(b=c-1;0<=b&&128===(a[b]&192);)b--;return 0>b||0===b?c:b+sa[a[b]]>c?b:c}};"use strict";var bb=function(){this.input=null;this.total_in=this.avail_in=this.next_in=0;this.output=null;this.total_out=this.avail_out=this.next_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=0};"use strict";var cb=Object.prototype.toString;Z.prototype.push=function(a,c){var b=this.strm,d=this.options.chunkSize;if(this.ended)return!1;c=c===~~c?c:!0===c?4:0;"string"===
typeof a?b.input=aa.string2buf(a):"[object ArrayBuffer]"===cb.call(a)?b.input=new Uint8Array(a):b.input=a;b.next_in=0;b.avail_in=b.input.length;do{0===b.avail_out&&(b.output=new y.Buf8(d),b.next_out=0,b.avail_out=d);a=pa.deflate(b,c);if(1!==a&&0!==a)return this.onEnd(a),this.ended=!0,!1;if(0===b.avail_out||0===b.avail_in&&(4===c||2===c))if("string"===this.options.to)this.onData(aa.buf2binstring(y.shrinkBuf(b.output,b.next_out)));else this.onData(y.shrinkBuf(b.output,b.next_out))}while((0<b.avail_in||
0===b.avail_out)&&1!==a);if(4===c)return a=pa.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,0===a;2===c&&(this.onEnd(0),b.avail_out=0);return!0};Z.prototype.onData=function(a){this.chunks.push(a)};Z.prototype.onEnd=function(a){0===a&&(this.result="string"===this.options.to?this.chunks.join(""):y.flattenChunks(this.chunks));this.chunks=[];this.err=a;this.msg=this.strm.msg};var Kb={Deflate:Z,deflate:Ha,deflateRaw:function(a,c){c=c||{};c.raw=!0;return Ha(a,c)},gzip:function(a,c){c=c||{};c.gzip=!0;
return Ha(a,c)}};"use strict";"use strict";var Lb=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Mb=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Nb=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Ob=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],ta=function(a,c,b,d,e,f,g,l){var w=l.bits,
k,n,h,p,m,q,r,v,I,M,J,H,ea,G=0,u,x=new y.Buf16(16);m=new y.Buf16(16);var fa,A=0,tb,E,B;for(k=0;15>=k;k++)x[k]=0;for(n=0;n<d;n++)x[c[b+n]]++;p=w;for(h=15;1<=h&&0===x[h];h--);p>h&&(p=h);if(0===h)return e[f++]=20971520,e[f++]=20971520,l.bits=1,0;for(w=1;w<h&&0===x[w];w++);p<w&&(p=w);for(k=q=1;15>=k;k++)if(q<<=1,q-=x[k],0>q)return-1;if(0<q&&(0===a||1!==h))return-1;m[1]=0;for(k=1;15>k;k++)m[k+1]=m[k]+x[k];for(n=0;n<d;n++)0!==c[b+n]&&(g[m[c[b+n]]++]=n);0===a?(ea=fa=g,u=19):1===a?(ea=Lb,G-=257,fa=Mb,A-=
257,u=256):(ea=Nb,fa=Ob,u=-1);n=v=0;k=w;H=f;d=p;m=0;M=-1;r=1<<p;J=r-1;if(1===a&&852<r||2===a&&592<r)return 1;for(;;){tb=k-m;g[n]<u?(E=0,B=g[n]):g[n]>u?(E=fa[A+g[n]],B=ea[G+g[n]]):(E=96,B=0);q=1<<k-m;w=I=1<<d;do I-=q,e[H+(v>>m)+I]=tb<<24|E<<16|B|0;while(0!==I);for(q=1<<k-1;v&q;)q>>=1;0!==q?(v&=q-1,v+=q):v=0;n++;if(0===--x[k]){if(k===h)break;k=c[b+g[n]]}if(k>p&&(v&J)!==M){0===m&&(m=p);H+=w;d=k-m;for(q=1<<d;d+m<h;){q-=x[d+m];if(0>=q)break;d++;q<<=1}r+=1<<d;if(1===a&&852<r||2===a&&592<r)return 1;M=v&
J;e[M]=p<<24|d<<16|H-f|0}}0!==v&&(e[H+v]=k-m<<24|4194304);l.bits=p;return 0};"use strict";var ub=!0,Ja,Ka,qa={inflateReset:fb,inflateReset2:gb,inflateResetKeep:eb,inflateInit:function(a){return hb(a,15)},inflateInit2:hb,inflate:function(a,c){var b,d,e,f,g,l,h,k,n,t,p,m,q,r,v,I,M,J,H=new y.Buf8(4),ea=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!a||!a.state||!a.output||!a.input&&0!==a.avail_in)return-2;b=a.state;12===b.mode&&(b.mode=13);g=a.next_out;e=a.output;h=a.avail_out;f=a.next_in;d=a.input;
l=a.avail_in;k=b.hold;n=b.bits;t=l;p=h;J=0;a:for(;;)switch(b.mode){case 1:if(0===b.wrap){b.mode=13;break}for(;16>n;){if(0===l)break a;l--;k+=d[f++]<<n;n+=8}if(b.wrap&2&&35615===k){b.check=0;H[0]=k&255;H[1]=k>>>8&255;b.check=K(b.check,H,2,0);n=k=0;b.mode=2;break}b.flags=0;b.head&&(b.head.done=!1);if(!(b.wrap&1)||(((k&255)<<8)+(k>>8))%31){a.msg="incorrect header check";b.mode=30;break}if(8!==(k&15)){a.msg="unknown compression method";b.mode=30;break}k>>>=4;n-=4;q=(k&15)+8;if(0===b.wbits)b.wbits=q;else if(q>
b.wbits){a.msg="invalid window size";b.mode=30;break}b.dmax=1<<q;a.adler=b.check=1;b.mode=k&512?10:12;n=k=0;break;case 2:for(;16>n;){if(0===l)break a;l--;k+=d[f++]<<n;n+=8}b.flags=k;if(8!==(b.flags&255)){a.msg="unknown compression method";b.mode=30;break}if(b.flags&57344){a.msg="unknown header flags set";b.mode=30;break}b.head&&(b.head.text=k>>8&1);b.flags&512&&(H[0]=k&255,H[1]=k>>>8&255,b.check=K(b.check,H,2,0));n=k=0;b.mode=3;case 3:for(;32>n;){if(0===l)break a;l--;k+=d[f++]<<n;n+=8}b.head&&(b.head.time=
k);b.flags&512&&(H[0]=k&255,H[1]=k>>>8&255,H[2]=k>>>16&255,H[3]=k>>>24&255,b.check=K(b.check,H,4,0));n=k=0;b.mode=4;case 4:for(;16>n;){if(0===l)break a;l--;k+=d[f++]<<n;n+=8}b.head&&(b.head.xflags=k&255,b.head.os=k>>8);b.flags&512&&(H[0]=k&255,H[1]=k>>>8&255,b.check=K(b.check,H,2,0));n=k=0;b.mode=5;case 5:if(b.flags&1024){for(;16>n;){if(0===l)break a;l--;k+=d[f++]<<n;n+=8}b.length=k;b.head&&(b.head.extra_len=k);b.flags&512&&(H[0]=k&255,H[1]=k>>>8&255,b.check=K(b.check,H,2,0));n=k=0}else b.head&&(b.head.extra=
null);b.mode=6;case 6:if(b.flags&1024&&(m=b.length,m>l&&(m=l),m&&(b.head&&(q=b.head.extra_len-b.length,b.head.extra||(b.head.extra=Array(b.head.extra_len)),y.arraySet(b.head.extra,d,f,m,q)),b.flags&512&&(b.check=K(b.check,d,m,f)),l-=m,f+=m,b.length-=m),b.length))break a;b.length=0;b.mode=7;case 7:if(b.flags&2048){if(0===l)break a;m=0;do q=d[f+m++],b.head&&q&&65536>b.length&&(b.head.name+=String.fromCharCode(q));while(q&&m<l);b.flags&512&&(b.check=K(b.check,d,m,f));l-=m;f+=m;if(q)break a}else b.head&&
(b.head.name=null);b.length=0;b.mode=8;case 8:if(b.flags&4096){if(0===l)break a;m=0;do q=d[f+m++],b.head&&q&&65536>b.length&&(b.head.comment+=String.fromCharCode(q));while(q&&m<l);b.flags&512&&(b.check=K(b.check,d,m,f));l-=m;f+=m;if(q)break a}else b.head&&(b.head.comment=null);b.mode=9;case 9:if(b.flags&512){for(;16>n;){if(0===l)break a;l--;k+=d[f++]<<n;n+=8}if(k!==(b.check&65535)){a.msg="header crc mismatch";b.mode=30;break}n=k=0}b.head&&(b.head.hcrc=b.flags>>9&1,b.head.done=!0);a.adler=b.check=
0;b.mode=12;break;case 10:for(;32>n;){if(0===l)break a;l--;k+=d[f++]<<n;n+=8}a.adler=b.check=db(k);n=k=0;b.mode=11;case 11:if(0===b.havedict)return a.next_out=g,a.avail_out=h,a.next_in=f,a.avail_in=l,b.hold=k,b.bits=n,2;a.adler=b.check=1;b.mode=12;case 12:if(5===c||6===c)break a;case 13:if(b.last){k>>>=n&7;n-=n&7;b.mode=27;break}for(;3>n;){if(0===l)break a;l--;k+=d[f++]<<n;n+=8}b.last=k&1;k>>>=1;--n;switch(k&3){case 0:b.mode=14;break;case 1:q=b;if(ub){Ja=new y.Buf32(512);Ka=new y.Buf32(32);for(m=
0;144>m;)q.lens[m++]=8;for(;256>m;)q.lens[m++]=9;for(;280>m;)q.lens[m++]=7;for(;288>m;)q.lens[m++]=8;ta(1,q.lens,0,288,Ja,0,q.work,{bits:9});for(m=0;32>m;)q.lens[m++]=5;ta(2,q.lens,0,32,Ka,0,q.work,{bits:5});ub=!1}q.lencode=Ja;q.lenbits=9;q.distcode=Ka;q.distbits=5;b.mode=20;if(6===c){k>>>=2;n-=2;break a}break;case 2:b.mode=17;break;case 3:a.msg="invalid block type",b.mode=30}k>>>=2;n-=2;break;case 14:k>>>=n&7;for(n-=n&7;32>n;){if(0===l)break a;l--;k+=d[f++]<<n;n+=8}if((k&65535)!==(k>>>16^65535)){a.msg=
"invalid stored block lengths";b.mode=30;break}b.length=k&65535;n=k=0;b.mode=15;if(6===c)break a;case 15:b.mode=16;case 16:if(m=b.length){m>l&&(m=l);m>h&&(m=h);if(0===m)break a;y.arraySet(e,d,f,m,g);l-=m;f+=m;h-=m;g+=m;b.length-=m;break}b.mode=12;break;case 17:for(;14>n;){if(0===l)break a;l--;k+=d[f++]<<n;n+=8}b.nlen=(k&31)+257;k>>>=5;n-=5;b.ndist=(k&31)+1;k>>>=5;n-=5;b.ncode=(k&15)+4;k>>>=4;n-=4;if(286<b.nlen||30<b.ndist){a.msg="too many length or distance symbols";b.mode=30;break}b.have=0;b.mode=
18;case 18:for(;b.have<b.ncode;){for(;3>n;){if(0===l)break a;l--;k+=d[f++]<<n;n+=8}b.lens[ea[b.have++]]=k&7;k>>>=3;n-=3}for(;19>b.have;)b.lens[ea[b.have++]]=0;b.lencode=b.lendyn;b.lenbits=7;m={bits:b.lenbits};J=ta(0,b.lens,0,19,b.lencode,0,b.work,m);b.lenbits=m.bits;if(J){a.msg="invalid code lengths set";b.mode=30;break}b.have=0;b.mode=19;case 19:for(;b.have<b.nlen+b.ndist;){for(;;){v=b.lencode[k&(1<<b.lenbits)-1];m=v>>>24;v&=65535;if(m<=n)break;if(0===l)break a;l--;k+=d[f++]<<n;n+=8}if(16>v)k>>>=
m,n-=m,b.lens[b.have++]=v;else{if(16===v){for(q=m+2;n<q;){if(0===l)break a;l--;k+=d[f++]<<n;n+=8}k>>>=m;n-=m;if(0===b.have){a.msg="invalid bit length repeat";b.mode=30;break}q=b.lens[b.have-1];m=3+(k&3);k>>>=2;n-=2}else if(17===v){for(q=m+3;n<q;){if(0===l)break a;l--;k+=d[f++]<<n;n+=8}k>>>=m;n-=m;q=0;m=3+(k&7);k>>>=3;n-=3}else{for(q=m+7;n<q;){if(0===l)break a;l--;k+=d[f++]<<n;n+=8}k>>>=m;n-=m;q=0;m=11+(k&127);k>>>=7;n-=7}if(b.have+m>b.nlen+b.ndist){a.msg="invalid bit length repeat";b.mode=30;break}for(;m--;)b.lens[b.have++]=
q}}if(30===b.mode)break;if(0===b.lens[256]){a.msg="invalid code -- missing end-of-block";b.mode=30;break}b.lenbits=9;m={bits:b.lenbits};J=ta(1,b.lens,0,b.nlen,b.lencode,0,b.work,m);b.lenbits=m.bits;if(J){a.msg="invalid literal/lengths set";b.mode=30;break}b.distbits=6;b.distcode=b.distdyn;m={bits:b.distbits};J=ta(2,b.lens,b.nlen,b.ndist,b.distcode,0,b.work,m);b.distbits=m.bits;if(J){a.msg="invalid distances set";b.mode=30;break}b.mode=20;if(6===c)break a;case 20:b.mode=21;case 21:if(6<=l&&258<=h){a.next_out=
g;a.avail_out=h;a.next_in=f;a.avail_in=l;b.hold=k;b.bits=n;var G,u,x,fa,A,B,E,F,C,z,D=a;z=D.state;C=D.next_in;e=D.input;F=C+(D.avail_in-5);E=D.next_out;d=D.output;B=E-(p-D.avail_out);A=E+(D.avail_out-257);fa=z.dmax;v=z.wsize;M=z.whave;I=z.wnext;r=z.window;q=z.hold;m=z.bits;n=z.lencode;k=z.distcode;h=(1<<z.lenbits)-1;l=(1<<z.distbits)-1;b:do c:for(15>m&&(q+=e[C++]<<m,m+=8,q+=e[C++]<<m,m+=8),G=n[q&h];;){g=G>>>24;q>>>=g;m-=g;g=G>>>16&255;if(0===g)d[E++]=G&65535;else if(g&16){f=G&65535;if(g&=15)m<g&&
(q+=e[C++]<<m,m+=8),f+=q&(1<<g)-1,q>>>=g,m-=g;15>m&&(q+=e[C++]<<m,m+=8,q+=e[C++]<<m,m+=8);G=k[q&l];d:for(;;){g=G>>>24;q>>>=g;m-=g;g=G>>>16&255;if(g&16){x=G&65535;g&=15;m<g&&(q+=e[C++]<<m,m+=8,m<g&&(q+=e[C++]<<m,m+=8));x+=q&(1<<g)-1;if(x>fa){D.msg="invalid distance too far back";z.mode=30;break b}q>>>=g;m-=g;g=E-B;if(x>g){g=x-g;if(g>M&&z.sane){D.msg="invalid distance too far back";z.mode=30;break b}u=0;G=r;if(0===I){if(u+=v-g,g<f){f-=g;do d[E++]=r[u++];while(--g);u=E-x;G=d}}else if(I<g){if(u+=v+I-
g,g-=I,g<f){f-=g;do d[E++]=r[u++];while(--g);u=0;if(I<f){g=I;f-=g;do d[E++]=r[u++];while(--g);u=E-x;G=d}}}else if(u+=I-g,g<f){f-=g;do d[E++]=r[u++];while(--g);u=E-x;G=d}for(;2<f;)d[E++]=G[u++],d[E++]=G[u++],d[E++]=G[u++],f-=3;f&&(d[E++]=G[u++],1<f&&(d[E++]=G[u++]))}else{u=E-x;do d[E++]=d[u++],d[E++]=d[u++],d[E++]=d[u++],f-=3;while(2<f);f&&(d[E++]=d[u++],1<f&&(d[E++]=d[u++]))}}else if(0===(g&64)){G=k[(G&65535)+(q&(1<<g)-1)];continue d}else{D.msg="invalid distance code";z.mode=30;break b}break}}else if(0===
(g&64)){G=n[(G&65535)+(q&(1<<g)-1)];continue c}else{g&32?z.mode=12:(D.msg="invalid literal/length code",z.mode=30);break b}break}while(C<F&&E<A);f=m>>3;C-=f;m-=f<<3;D.next_in=C;D.next_out=E;D.avail_in=C<F?5+(F-C):5-(C-F);D.avail_out=E<A?257+(A-E):257-(E-A);z.hold=q&(1<<m)-1;z.bits=m;g=a.next_out;e=a.output;h=a.avail_out;f=a.next_in;d=a.input;l=a.avail_in;k=b.hold;n=b.bits;12===b.mode&&(b.back=-1);break}for(b.back=0;;){v=b.lencode[k&(1<<b.lenbits)-1];m=v>>>24;q=v>>>16&255;v&=65535;if(m<=n)break;if(0===
l)break a;l--;k+=d[f++]<<n;n+=8}if(q&&0===(q&240)){r=m;I=q;for(M=v;;){v=b.lencode[M+((k&(1<<r+I)-1)>>r)];m=v>>>24;q=v>>>16&255;v&=65535;if(r+m<=n)break;if(0===l)break a;l--;k+=d[f++]<<n;n+=8}k>>>=r;n-=r;b.back+=r}k>>>=m;n-=m;b.back+=m;b.length=v;if(0===q){b.mode=26;break}if(q&32){b.back=-1;b.mode=12;break}if(q&64){a.msg="invalid literal/length code";b.mode=30;break}b.extra=q&15;b.mode=22;case 22:if(b.extra){for(q=b.extra;n<q;){if(0===l)break a;l--;k+=d[f++]<<n;n+=8}b.length+=k&(1<<b.extra)-1;k>>>=
b.extra;n-=b.extra;b.back+=b.extra}b.was=b.length;b.mode=23;case 23:for(;;){v=b.distcode[k&(1<<b.distbits)-1];m=v>>>24;q=v>>>16&255;v&=65535;if(m<=n)break;if(0===l)break a;l--;k+=d[f++]<<n;n+=8}if(0===(q&240)){r=m;I=q;for(M=v;;){v=b.distcode[M+((k&(1<<r+I)-1)>>r)];m=v>>>24;q=v>>>16&255;v&=65535;if(r+m<=n)break;if(0===l)break a;l--;k+=d[f++]<<n;n+=8}k>>>=r;n-=r;b.back+=r}k>>>=m;n-=m;b.back+=m;if(q&64){a.msg="invalid distance code";b.mode=30;break}b.offset=v;b.extra=q&15;b.mode=24;case 24:if(b.extra){for(q=
b.extra;n<q;){if(0===l)break a;l--;k+=d[f++]<<n;n+=8}b.offset+=k&(1<<b.extra)-1;k>>>=b.extra;n-=b.extra;b.back+=b.extra}if(b.offset>b.dmax){a.msg="invalid distance too far back";b.mode=30;break}b.mode=25;case 25:if(0===h)break a;m=p-h;if(b.offset>m){m=b.offset-m;if(m>b.whave&&b.sane){a.msg="invalid distance too far back";b.mode=30;break}m>b.wnext?(m-=b.wnext,q=b.wsize-m):q=b.wnext-m;m>b.length&&(m=b.length);r=b.window}else r=e,q=g-b.offset,m=b.length;m>h&&(m=h);h-=m;b.length-=m;do e[g++]=r[q++];while(--m);
0===b.length&&(b.mode=21);break;case 26:if(0===h)break a;e[g++]=b.length;h--;b.mode=21;break;case 27:if(b.wrap){for(;32>n;){if(0===l)break a;l--;k|=d[f++]<<n;n+=8}p-=h;a.total_out+=p;b.total+=p;p&&(a.adler=b.check=b.flags?K(b.check,e,p,g-p):oa(b.check,e,p,g-p));p=h;if((b.flags?k:db(k))!==b.check){a.msg="incorrect data check";b.mode=30;break}n=k=0}b.mode=28;case 28:if(b.wrap&&b.flags){for(;32>n;){if(0===l)break a;l--;k+=d[f++]<<n;n+=8}if(k!==(b.total&4294967295)){a.msg="incorrect length check";b.mode=
30;break}n=k=0}b.mode=29;case 29:J=1;break a;case 30:J=-3;break a;case 31:return-4;default:return-2}a.next_out=g;a.avail_out=h;a.next_in=f;a.avail_in=l;b.hold=k;b.bits=n;if((b.wsize||p!==a.avail_out&&30>b.mode&&(27>b.mode||4!==c))&&ib(a,a.output,a.next_out,p-a.avail_out))return b.mode=31,-4;t-=a.avail_in;p-=a.avail_out;a.total_in+=t;a.total_out+=p;b.total+=p;b.wrap&&p&&(a.adler=b.check=b.flags?K(b.check,e,p,a.next_out-p):oa(b.check,e,p,a.next_out-p));a.data_type=b.bits+(b.last?64:0)+(12===b.mode?
128:0)+(20===b.mode||15===b.mode?256:0);(0===t&&0===p||4===c)&&0===J&&(J=-5);return J},inflateEnd:function(a){if(!a||!a.state)return-2;var c=a.state;c.window&&(c.window=null);a.state=null;return 0},inflateGetHeader:function(a,c){if(!a||!a.state)return-2;a=a.state;if(0===(a.wrap&2))return-2;a.head=c;c.done=!1;return 0},inflateSetDictionary:function(a,c){var b=c.length,d,e;if(!a||!a.state)return-2;d=a.state;if(0!==d.wrap&&11!==d.mode)return-2;if(11===d.mode&&(e=oa(1,c,b,0),e!==d.check))return-3;if(ib(a,
c,b,b))return d.mode=31,-4;d.havedict=1;return 0},inflateInfo:"pako inflate (from Nodeca project)"};"use strict";var C={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};
"use strict";var Eb=function(){this.os=this.xflags=this.time=this.text=0;this.extra=null;this.extra_len=0;this.comment=this.name="";this.hcrc=0;this.done=!1};"use strict";var vb=Object.prototype.toString;ba.prototype.push=function(a,c){var b=this.strm,d=this.options.chunkSize,e=this.options.dictionary,f,g,l,h=!1;if(this.ended)return!1;c=c===~~c?c:!0===c?C.Z_FINISH:C.Z_NO_FLUSH;"string"===typeof a?b.input=aa.binstring2buf(a):"[object ArrayBuffer]"===vb.call(a)?b.input=new Uint8Array(a):b.input=a;b.next_in=
0;b.avail_in=b.input.length;do{0===b.avail_out&&(b.output=new y.Buf8(d),b.next_out=0,b.avail_out=d);a=qa.inflate(b,C.Z_NO_FLUSH);a===C.Z_NEED_DICT&&e&&(a="string"===typeof e?aa.string2buf(e):"[object ArrayBuffer]"===vb.call(e)?new Uint8Array(e):e,a=qa.inflateSetDictionary(this.strm,a));a===C.Z_BUF_ERROR&&!0===h&&(a=C.Z_OK,h=!1);if(a!==C.Z_STREAM_END&&a!==C.Z_OK)return this.onEnd(a),this.ended=!0,!1;if(b.next_out&&(0===b.avail_out||a===C.Z_STREAM_END||0===b.avail_in&&(c===C.Z_FINISH||c===C.Z_SYNC_FLUSH)))if("string"===
this.options.to)f=aa.utf8border(b.output,b.next_out),g=b.next_out-f,l=aa.buf2string(b.output,f),b.next_out=g,b.avail_out=d-g,g&&y.arraySet(b.output,b.output,f,g,0),this.onData(l);else this.onData(y.shrinkBuf(b.output,b.next_out));0===b.avail_in&&0===b.avail_out&&(h=!0)}while((0<b.avail_in||0===b.avail_out)&&a!==C.Z_STREAM_END);a===C.Z_STREAM_END&&(c=C.Z_FINISH);if(c===C.Z_FINISH)return a=qa.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===C.Z_OK;c===C.Z_SYNC_FLUSH&&(this.onEnd(C.Z_OK),b.avail_out=
0);return!0};ba.prototype.onData=function(a){this.chunks.push(a)};ba.prototype.onEnd=function(a){a===C.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):y.flattenChunks(this.chunks));this.chunks=[];this.err=a;this.msg=this.strm.msg};var Pb={Inflate:ba,inflate:Ia,inflateRaw:function(a,c){c=c||{};c.raw=!0;return Ia(a,c)},ungzip:Ia};"use strict";var Qb=y.assign,ua={};Qb(ua,Kb,Pb,C);var za=function(a,c){return c={exports:{}},a(c,c.exports),c.exports}(function(a){function c(a){this.value=
a}function b(a,b,c){var e=[],f=[],n=!0;return function I(a){function J(){if("object"===typeof t.node&&null!==t.node){t.keys&&t.node_===t.node||(t.keys=g(t.node));t.isLeaf=0==t.keys.length;for(var b=0;b<f.length;b++)if(f[b].node_===a){t.circular=f[b];break}}else t.isLeaf=!0,t.keys=null;t.notLeaf=!t.isLeaf;t.notRoot=!t.isRoot}var M,m,q,p,w=!0,t={node:c?d(a):a,node_:a,path:[].concat(e),parent:f[f.length-1],parents:f,key:e.slice(-1)[0],isRoot:0===e.length,level:e.length,circular:null,update:function(a,
b){t.isRoot||(t.parent.node[t.key]=a);t.node=a;b&&(w=!1)},"delete":function(a){delete t.parent.node[t.key];a&&(w=!1)},remove:function(a){l(t.parent.node)?t.parent.node.splice(t.key,1):delete t.parent.node[t.key];a&&(w=!1)},keys:null,before:function(a){M=a},after:function(a){m=a},pre:function(a){q=a},post:function(a){p=a},stop:function(){n=!1},block:function(){w=!1}};if(!n)return t;J();var r=b.call(t,t.node);void 0!==r&&t.update&&t.update(r);M&&M.call(t,t.node);if(!w)return t;"object"!=typeof t.node||
null===t.node||t.circular||(f.push(t),J(),h(t.keys,function(a,b){e.push(a);q&&q.call(t,t.node[a],a);var d=I(t.node[a]);c&&k.call(t.node,a)&&(t.node[a]=d.node);d.isLast=b==t.keys.length-1;d.isFirst=0==b;p&&p.call(t,d);e.pop()}),f.pop());m&&m.call(t,t.node);return t}(a).node}function d(a){if("object"===typeof a&&null!==a){var b;if(l(a))b=[];else if("[object Date]"===e(a))b=new Date(a.getTime?a.getTime():a);else if("[object RegExp]"===e(a))b=new RegExp(a);else if("[object Error]"===e(a))b={message:a.message};
else if("[object Boolean]"===e(a))b=new Boolean(a);else if("[object Number]"===e(a))b=new Number(a);else if("[object String]"===e(a))b=new String(a);else if(Object.create&&Object.getPrototypeOf)b=Object.create(Object.getPrototypeOf(a));else if(a.constructor===Object)b={};else{var c=function(){};c.prototype=a.constructor&&a.constructor.prototype||a.__proto__||{};b=new c}h(g(a),function(c){b[c]=a[c]});return b}return a}function e(a){return Object.prototype.toString.call(a)}var f=a.exports=function(a){return new c(a)};
c.prototype.get=function(a){for(var b=this.value,c=0;c<a.length;c++){var d=a[c];if(!b||!k.call(b,d)){b=void 0;break}b=b[d]}return b};c.prototype.has=function(a){for(var b=this.value,c=0;c<a.length;c++){var d=a[c];if(!b||!k.call(b,d))return!1;b=b[d]}return!0};c.prototype.set=function(a,b){for(var c=this.value,d=0;d<a.length-1;d++){var e=a[d];k.call(c,e)||(c[e]={});c=c[e]}return c[a[d]]=b};c.prototype.map=function(a){return b(this.value,a,!0)};c.prototype.forEach=function(a){return this.value=b(this.value,
a,!1)};c.prototype.reduce=function(a,b){var c=1===arguments.length,d=c?this.value:b;this.forEach(function(b){this.isRoot&&c||(d=a.call(this,d,b))});return d};c.prototype.paths=function(){var a=[];this.forEach(function(b){a.push(this.path)});return a};c.prototype.nodes=function(){var a=[];this.forEach(function(b){a.push(this.node)});return a};c.prototype.clone=function(){var a=[],b=[];return function m(c){for(var e=0;e<a.length;e++)if(a[e]===c)return b[e];if("object"===typeof c&&null!==c){var f=d(c);
a.push(c);b.push(f);h(g(c),function(a){f[a]=m(c[a])});a.pop();b.pop();return f}return c}(this.value)};var g=Object.keys||function(a){var b=[],c;for(c in a)b.push(c);return b},l=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},h=function(a,b){if(a.forEach)return a.forEach(b);for(var c=0;c<a.length;c++)b(a[c],c,a)};h(g(c.prototype),function(a){f[a]=function(b){var d=[].slice.call(arguments,1),e=new c(b);return e[a].apply(e,d)}});var k=Object.hasOwnProperty||function(a,
b){return b in a}});(function(){function a(a){this.value=a}function c(b){function c(d,f){try{var g=b[d](f),l=g.value;l instanceof a?Promise.resolve(l.value).then(function(a){c("next",a)},function(a){c("throw",a)}):e(g.done?"return":"normal",g.value)}catch(t){e("throw",t)}}function e(a,b){switch(a){case "return":f.resolve({value:b,done:!0});break;case "throw":f.reject(b);break;default:f.resolve({value:b,done:!1})}(f=f.next)?c(f.key,f.arg):g=null}var f,g;this._invoke=function(a,b){return new Promise(function(d,
e){d={key:a,arg:b,resolve:d,reject:e,next:null};g?g=g.next=d:(f=g=d,c(a,b))})};"function"!==typeof b.return&&(this.return=void 0)}"function"===typeof Symbol&&Symbol.asyncIterator&&(c.prototype[Symbol.asyncIterator]=function(){return this});c.prototype.next=function(a){return this._invoke("next",a)};c.prototype.throw=function(a){return this._invoke("throw",a)};c.prototype.return=function(a){return this._invoke("return",a)};return{wrap:function(a){return function(){return new c(a.apply(this,arguments))}},
await:function(b){return new a(b)}}})();var Rb=function(){function a(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(c,b,d){b&&a(c.prototype,b);d&&a(c,d);return c}}(),F=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}Rb(a,null,[{key:"isPlatformLittleEndian",value:function(){var a=new Uint32Array([305419896]);return 18!=
(new Uint8Array(a.buffer,a.byteOffset,a.byteLength))[0]}},{key:"arrayBufferToUnicode",value:function(a){a=new Uint8Array(a);for(var b=[],c=0,e=0;c<a.length;){var f=a[c++];if(128>f)b[e++]=String.fromCharCode(f);else if(191<f&&224>f){var g=a[c++];b[e++]=String.fromCharCode((f&31)<<6|g&63)}else if(239<f&&365>f){var g=a[c++],l=a[c++],h=a[c++],f=((f&7)<<18|(g&63)<<12|(l&63)<<6|h&63)-65536;b[e++]=String.fromCharCode(55296+(f>>10));b[e++]=String.fromCharCode(56320+(f&1023))}else g=a[c++],l=a[c++],b[e++]=
String.fromCharCode((f&15)<<12|(g&63)<<6|l&63)}return b.join("")}},{key:"unicodeToArrayBuffer",value:function(a){for(var b=[],c=0,e=0;e<a.length;e++){var f=a.charCodeAt(e);128>f?b[c++]=f:(2048>f?b[c++]=f>>6|192:(55296==(f&64512)&&e+1<a.length&&56320==(a.charCodeAt(e+1)&64512)?(f=65536+((f&1023)<<10)+(a.charCodeAt(++e)&1023),b[c++]=f>>18|240,b[c++]=f>>12&63|128):b[c++]=f>>12|224,b[c++]=f>>6&63|128),b[c++]=f&63|128)}return(new Uint8Array(b)).buffer}},{key:"arrayBufferToString8",value:function(a){return String.fromCharCode.apply(null,
new Uint8Array(a))}},{key:"string8ToArrayBuffer",value:function(a){for(var b=new ArrayBuffer(a.length),c=new Uint8Array(b),e=0;e<a.length;e++)c[e]=a.charCodeAt(e);return b}},{key:"setString8InBuffer",value:function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(0>c)console.warn("The byte offset cannot be negative.");else if(b&&b instanceof ArrayBuffer)if(a.length+c>b.byteLength)console.warn("The string is too long to be writen in this buffer.");else for(var e=new Uint8Array(b),
f=0;f<a.length;f++)e[f+c]=a.charCodeAt(f);else console.warn("The buffer must be a valid ArrayBuffer.")}},{key:"getString8FromBuffer",value:function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;return 0>c?(console.warn("The byte offset cannot be negative."),null):a&&a instanceof ArrayBuffer?b+c>a.byteLength?(console.warn("The string is too long to be writen in this buffer."),null):String.fromCharCode.apply(null,new Uint8Array(a,c,b)):(console.warn("The buffer must be a valid ArrayBuffer."),
null)}},{key:"objectToArrayBuffer",value:function(c){var b=null;c=a.makeSerializeFriendly(c);try{var d=JSON.stringify(c),b=a.unicodeToArrayBuffer(d)}catch(e){console.warn(e)}return b}},{key:"ArrayBufferToObject",value:function(c){var b=null;try{var d=a.arrayBufferToUnicode(c),b=JSON.parse(d)}catch(e){console.warn(e)}return b}},{key:"isTypedArray",value:function(a){return a instanceof Int8Array||a instanceof Uint8Array||a instanceof Uint8ClampedArray||a instanceof Int16Array||a instanceof Uint16Array||
a instanceof Int32Array||a instanceof Uint32Array||a instanceof Float32Array||a instanceof Float64Array}},{key:"mergeBuffers",value:function(a){for(var b=0,c=0;c<a.length;c++)b+=a[c].byteLength;for(var b=new Uint8Array(b),e=0,c=0;c<a.length;c++)b.set(new Uint8Array(a[c]),e),e+=a[c].byteLength;return b.buffer}},{key:"getGlobalObject",value:function(){var a=null;try{a=window}catch(b){try{a=GLOBAL}catch(d){return console.warn("You are not in a Javascript environment?? Weird."),null}}return a}},{key:"extractTypedArray",
value:function(a,b,d,e){if(!a)return console.warn("Input Buffer is null."),null;if(!(a instanceof ArrayBuffer))return console.warn("Buffer must be of type ArrayBuffer"),null;if(0>=e)return console.warn("The number of elements to fetch must be greater than 0"),null;if(0>b)return console.warn("The byte offset must be possitive or 0"),null;if(b>=a.byteLength)return console.warn("The offset cannot be larger than the size of the buffer."),null;if(d instanceof Function&&!("BYTES_PER_ELEMENT"in d))return console.warn("ArrayType must be a typed array constructor function."),
null;if(d.BYTES_PER_ELEMENT*e+b>a.byteLength)console.warn("The requested number of elements is too large for this buffer");else return a=a.slice(b,b+e*d.BYTES_PER_ELEMENT),new d(a)}},{key:"getTypedArrayInfo",value:function(a){var b=null,c=!1;a instanceof Int8Array?(b="int",c=!1):a instanceof Uint8Array?(b="int",c=!0):a instanceof Uint8ClampedArray?(b="int",c=!0):a instanceof Int16Array?(b="int",c=!1):a instanceof Uint16Array?(b="int",c=!0):a instanceof Int32Array?(b="int",c=!1):a instanceof Uint32Array?
(b="int",c=!0):a instanceof Float32Array?(b="float",c=!1):a instanceof Float64Array&&(b="float",c=!1);return{type:b,signed:c,bytesPerElements:a.BYTES_PER_ELEMENT,byteLength:a.byteLength,length:a.length}}},{key:"howManyTypedArrayAttributes",value:function(c){var b=0;za(c).forEach(function(c){b+=a.isTypedArray(c)});return b}},{key:"hasCircularReference",value:function(a){var b=!1;za(a).forEach(function(a){this.circular&&(b=!0)});return b}},{key:"removeCircularReference",value:function(a){var b=!1;a=
za(a).map(function(a){this.circular&&(this.remove(),b=!0)});return b?a:null}},{key:"replaceTypedArrayAttributesByArrays",value:function(c){var b=!1;c=za(c).map(function(c){if(a.isTypedArray(c)){for(var d=Object.keys(c).length,f=Array(d),g=0;g<d;g++)f[g]=c[g];this.update(f);b=!0}});return b?c:null}},{key:"makeSerializeFriendly",value:function(c){var b=a.removeCircularReference(c);b&&(c=b);(b=a.replaceTypedArrayAttributesByArrays(c))&&(c=b);return c}}]);return a}();(function(){function a(a){this.value=
a}function c(b){function c(d,f){try{var g=b[d](f),l=g.value;l instanceof a?Promise.resolve(l.value).then(function(a){c("next",a)},function(a){c("throw",a)}):e(g.done?"return":"normal",g.value)}catch(t){e("throw",t)}}function e(a,b){switch(a){case "return":f.resolve({value:b,done:!0});break;case "throw":f.reject(b);break;default:f.resolve({value:b,done:!1})}(f=f.next)?c(f.key,f.arg):g=null}var f,g;this._invoke=function(a,b){return new Promise(function(d,e){d={key:a,arg:b,resolve:d,reject:e,next:null};
g?g=g.next=d:(f=g=d,c(a,b))})};"function"!==typeof b.return&&(this.return=void 0)}"function"===typeof Symbol&&Symbol.asyncIterator&&(c.prototype[Symbol.asyncIterator]=function(){return this});c.prototype.next=function(a){return this._invoke("next",a)};c.prototype.throw=function(a){return this._invoke("throw",a)};c.prototype.return=function(a){return this._invoke("return",a)};return{wrap:function(a){return function(){return new c(a.apply(this,arguments))}},await:function(b){return new a(b)}}})();var Aa=
function(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");},Ba=function(){function a(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(c,b,d){b&&a(c.prototype,b);d&&a(c,d);return c}}(),La=function(){function a(){Aa(this,a);this._compress=!1;this.reset()}Ba(a,[{key:"reset",value:function(){this._output=this._inputCase=this._input=null}},{key:"enableDataCompression",
value:function(a){this._compress=a}},{key:"setInput",value:function(c){if(this._inputCase=a.isGoodCandidate(c))this._input=c}},{key:"getOutput",value:function(){return this._output}},{key:"run",value:function(){var a=this._input;if(a&&this._inputCase){var b=a._data,d,e,f=[],g=!1;switch(this._inputCase){case 1:d=b;var l=this._getDataSubsetInfo(b);l.compressedByteLength=null;this._compress&&(d=ua.deflate(d.buffer),l.compressedByteLength=d.byteLength);f.push(l);break;case 2:g=!0;e=[];d=Array(b.length);
for(var h=0;h<b.length;h++){var k=b[h],l=this._getDataSubsetInfo(k);l.isTypedArray||(k=new Uint8Array(F.objectToArrayBuffer(k)),l.byteLength=k.byteLength);if(this._compress){var n=ua.deflate(k.buffer);l.compressedByteLength=n.byteLength;e.push(n)}f.push(l);d[h]=k}this._compress&&(d=e);break;case 3:l=this._getDataSubsetInfo(b);d=new Uint8Array(F.objectToArrayBuffer(b));l.byteLength=d.byteLength;this._compress&&(d=ua.deflate(d),l.compressedByteLength=d.byteLength);f.push(l);break;default:console.warn("A problem occured.");
return}h=F.objectToArrayBuffer(a._metadata);a=F.objectToArrayBuffer({byteStreamInfo:f,useMultipleDataStreams:g,originalBlockType:a.constructor.name,metadataByteLength:h.byteLength});a=[(new Uint8Array([+F.isPlatformLittleEndian()])).buffer,(new Uint32Array([a.byteLength])).buffer,a,h];if(g)for(h=0;h<d.length;h++)a.push(d[h].buffer);else a.push(d.buffer);this._output=F.mergeBuffers(a)}else console.warn("An input must be given to the PixBlockEncoder.")}},{key:"_getDataSubsetInfo",value:function(a){F.isTypedArray(a)?
(a=F.getTypedArrayInfo(a),a.isTypedArray=!0,a.compressedByteLength=null):a={type:a.constructor.name,compressedByteLength:null,byteLength:null,length:null,isTypedArray:!1};return a}}],[{key:"isGoodCandidate",value:function(c){if(!c)return console.warn("Input object cannot be null."),!1;if(!("_metadata"in c))return console.warn("Input object must contain a _metadata object."),!1;if(!("_data"in c))return console.warn("Input object must contain a _data object."),!1;c=a.determineDataCase(c._data);null===
c&&console.warn("The input is invalid.");return c}},{key:"determineDataCase",value:function(a){return a instanceof Object?F.isTypedArray(a)?1:a instanceof Array?2:3:null}}]);return a}(),wb=function(){function a(){Aa(this,a);this.reset()}Ba(a,[{key:"reset",value:function(){this._output=this._input=null}},{key:"setInput",value:function(a){a instanceof ArrayBuffer?this._input=a:console.warn("Input should be a valid ArrayBuffer")}},{key:"getOutput",value:function(){return this._output}},{key:"run",value:function(){var a=
this._input,b=new DataView(a);b.getUint8(0);var d=0;b.getUint8(0);for(var d=d+1,e=b.getUint32(1,d),d=d+4,b=a.slice(d,d+e),b=F.ArrayBufferToObject(b),d=d+e,e=a.slice(d,d+b.metadataByteLength),e=F.ArrayBufferToObject(e),d=d+b.metadataByteLength,f=[],g=0;g<b.byteStreamInfo.length;g++){var h=b.byteStreamInfo[g].compressedByteLength,p=this._getDataTypeFromByteStreamInfo(b.byteStreamInfo[g]),k=b.byteStreamInfo[g].isTypedArray;if(h){var n=new Uint8Array(a,d,h),n=ua.inflate(n),p=k?new p(n.buffer):F.ArrayBufferToObject(n.buffer);
f.push(p);d+=h}else k?p=F.extractTypedArray(a,d,this._getDataTypeFromByteStreamInfo(b.byteStreamInfo[g]),b.byteStreamInfo[g].length):(h=F.extractTypedArray(a,d,Uint8Array,b.byteStreamInfo[g].byteLength),p=F.ArrayBufferToObject(h.buffer)),f.push(p),d+=b.byteStreamInfo[g].byteLength}b.useMultipleDataStreams||(f=f[0]);this._output={originalBlockType:b.originalBlockType,_data:f,_metadata:e}}},{key:"_getDataTypeFromByteStreamInfo",value:function(a){var b="Object",c=F.getGlobalObject();"int"===a.type?(b=
a.signed?"Uint":"Int",b+=8*a.bytesPerElements+"Array"):"float"===a.type&&(b="Float"+(8*a.bytesPerElements+"Array"),c=F.getGlobalObject());return c[b]}}]);return a}(),Ma="undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{},U=jb,V=kb;"function"===typeof Ma.setTimeout&&(U=setTimeout);"function"===typeof Ma.clearTimeout&&(V=clearTimeout);var P=[],ka=!1,ca,ya=-1;nb.prototype.run=function(){this.fun.apply(null,this.array)};var la=Ma.performance||{},Sb=
la.now||la.mozNow||la.msNow||la.oNow||la.webkitNow||function(){return(new Date).getTime()},Tb=new Date,Na={nextTick:function(a){var c=Array(arguments.length-1);if(1<arguments.length)for(var b=1;b<arguments.length;b++)c[b-1]=arguments[b];P.push(new nb(a,c));1!==P.length||ka||lb(mb)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:da,addListener:da,once:da,off:da,removeListener:da,removeAllListeners:da,emit:da,binding:function(a){throw Error("process.binding is not supported");},
cwd:function(){return"/"},chdir:function(a){throw Error("process.chdir is not supported");},umask:function(){return 0},hrtime:function(a){var c=.001*Sb.call(la),b=Math.floor(c),c=Math.floor(c%1*1E9);a&&(b-=a[0],c-=a[1],0>c&&(b--,c+=1E9));return[b,c]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-Tb)/1E3}},xb=u(function(a){(function(){function c(a){a?(t[0]=t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0,this.blocks=t,this.buffer8=
r):f?(a=new ArrayBuffer(68),this.buffer8=new Uint8Array(a),this.blocks=new Uint32Array(a)):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=0;this.finalized=this.hashed=!1;this.first=!0}var b="object"===typeof window,d=b?window:{};d.JS_MD5_NO_WINDOW&&(b=!1);var b=!b&&"object"===typeof self,e=!d.JS_MD5_NO_NODE_JS&&"object"===typeof Na&&Na.versions&&Na.versions.node;e?d=Hb:b&&(d=self);var b=!d.JS_MD5_NO_COMMON_JS&&!0&&a.exports,f=!d.JS_MD5_NO_ARRAY_BUFFER&&
"undefined"!==typeof ArrayBuffer,g="0123456789abcdef".split(""),h=[128,32768,8388608,-2147483648],p=[0,8,16,24],k="hex array digest buffer arrayBuffer base64".split(" "),n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),t=[],r;if(f){var m=new ArrayBuffer(68);r=new Uint8Array(m);t=new Uint32Array(m)}if(d.JS_MD5_NO_NODE_JS||!Array.isArray)Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)};!f||!d.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||
(ArrayBuffer.isView=function(a){return"object"===typeof a&&a.buffer&&a.buffer.constructor===ArrayBuffer});var q=function(a){return function(b){return(new c(!0)).update(b)[a]()}},u=function(a){var b=eval("require('crypto')"),c=eval("require('buffer').Buffer");return function(d){if("string"===typeof d)return b.createHash("md5").update(d,"utf8").digest("hex");if(null===d||void 0===d)throw"input is invalid type";d.constructor===ArrayBuffer&&(d=new Uint8Array(d));return Array.isArray(d)||ArrayBuffer.isView(d)||
d.constructor===c?b.createHash("md5").update(new c(d)).digest("hex"):a(d)}};c.prototype.update=function(a){if(!this.finalized){var b,c=typeof a;if("string"!==c){if("object"===c){if(null===a)throw"input is invalid type";if(f&&a.constructor===ArrayBuffer)a=new Uint8Array(a);else if(!(Array.isArray(a)||f&&ArrayBuffer.isView(a)))throw"input is invalid type";}else throw"input is invalid type";b=!0}for(var d=0,e,g=a.length,v=this.blocks,h=this.buffer8;d<g;){this.hashed&&(this.hashed=!1,v[0]=v[16],v[16]=
v[1]=v[2]=v[3]=v[4]=v[5]=v[6]=v[7]=v[8]=v[9]=v[10]=v[11]=v[12]=v[13]=v[14]=v[15]=0);if(b)if(f)for(e=this.start;d<g&&64>e;++d)h[e++]=a[d];else for(e=this.start;d<g&&64>e;++d)v[e>>2]|=a[d]<<p[e++&3];else if(f)for(e=this.start;d<g&&64>e;++d)c=a.charCodeAt(d),128>c?h[e++]=c:(2048>c?h[e++]=192|c>>6:(55296>c||57344<=c?h[e++]=224|c>>12:(c=65536+((c&1023)<<10|a.charCodeAt(++d)&1023),h[e++]=240|c>>18,h[e++]=128|c>>12&63),h[e++]=128|c>>6&63),h[e++]=128|c&63);else for(e=this.start;d<g&&64>e;++d)c=a.charCodeAt(d),
128>c?v[e>>2]|=c<<p[e++&3]:(2048>c?v[e>>2]|=(192|c>>6)<<p[e++&3]:(55296>c||57344<=c?v[e>>2]|=(224|c>>12)<<p[e++&3]:(c=65536+((c&1023)<<10|a.charCodeAt(++d)&1023),v[e>>2]|=(240|c>>18)<<p[e++&3],v[e>>2]|=(128|c>>12&63)<<p[e++&3]),v[e>>2]|=(128|c>>6&63)<<p[e++&3]),v[e>>2]|=(128|c&63)<<p[e++&3]);this.lastByteIndex=e;this.bytes+=e-this.start;64<=e?(this.start=e-64,this.hash(),this.hashed=!0):this.start=e}return this}};c.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var a=this.blocks,
b=this.lastByteIndex;a[b>>2]|=h[b&3];56<=b&&(this.hashed||this.hash(),a[0]=a[16],a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0);a[14]=this.bytes<<3;this.hash()}};c.prototype.hash=function(){var a,b,c,d,e,f=this.blocks;this.first?(a=f[0]-680876937,a=(a<<7|a>>>25)-271733879<<0,d=(-1732584194^a&2004318071)+f[1]-117830708,d=(d<<12|d>>>20)+a<<0,c=(-271733879^d&(a^-271733879))+f[2]-1126478375,c=(c<<17|c>>>15)+d<<0,b=(a^c&(d^a))+f[3]-1316259209):(a=this.h0,b=this.h1,
c=this.h2,d=this.h3,a+=(d^b&(c^d))+f[0]-680876936,a=(a<<7|a>>>25)+b<<0,d+=(c^a&(b^c))+f[1]-389564586,d=(d<<12|d>>>20)+a<<0,c+=(b^d&(a^b))+f[2]+606105819,c=(c<<17|c>>>15)+d<<0,b+=(a^c&(d^a))+f[3]-1044525330);b=(b<<22|b>>>10)+c<<0;a+=(d^b&(c^d))+f[4]-176418897;a=(a<<7|a>>>25)+b<<0;d+=(c^a&(b^c))+f[5]+1200080426;d=(d<<12|d>>>20)+a<<0;c+=(b^d&(a^b))+f[6]-1473231341;c=(c<<17|c>>>15)+d<<0;b+=(a^c&(d^a))+f[7]-45705983;b=(b<<22|b>>>10)+c<<0;a+=(d^b&(c^d))+f[8]+1770035416;a=(a<<7|a>>>25)+b<<0;d+=(c^a&(b^c))+
f[9]-1958414417;d=(d<<12|d>>>20)+a<<0;c+=(b^d&(a^b))+f[10]-42063;c=(c<<17|c>>>15)+d<<0;b+=(a^c&(d^a))+f[11]-1990404162;b=(b<<22|b>>>10)+c<<0;a+=(d^b&(c^d))+f[12]+1804603682;a=(a<<7|a>>>25)+b<<0;d+=(c^a&(b^c))+f[13]-40341101;d=(d<<12|d>>>20)+a<<0;c+=(b^d&(a^b))+f[14]-1502002290;c=(c<<17|c>>>15)+d<<0;b+=(a^c&(d^a))+f[15]+1236535329;b=(b<<22|b>>>10)+c<<0;a+=(c^d&(b^c))+f[1]-165796510;a=(a<<5|a>>>27)+b<<0;d+=(b^c&(a^b))+f[6]-1069501632;d=(d<<9|d>>>23)+a<<0;c+=(a^b&(d^a))+f[11]+643717713;c=(c<<14|c>>>
18)+d<<0;b+=(d^a&(c^d))+f[0]-373897302;b=(b<<20|b>>>12)+c<<0;a+=(c^d&(b^c))+f[5]-701558691;a=(a<<5|a>>>27)+b<<0;d+=(b^c&(a^b))+f[10]+38016083;d=(d<<9|d>>>23)+a<<0;c+=(a^b&(d^a))+f[15]-660478335;c=(c<<14|c>>>18)+d<<0;b+=(d^a&(c^d))+f[4]-405537848;b=(b<<20|b>>>12)+c<<0;a+=(c^d&(b^c))+f[9]+568446438;a=(a<<5|a>>>27)+b<<0;d+=(b^c&(a^b))+f[14]-1019803690;d=(d<<9|d>>>23)+a<<0;c+=(a^b&(d^a))+f[3]-187363961;c=(c<<14|c>>>18)+d<<0;b+=(d^a&(c^d))+f[8]+1163531501;b=(b<<20|b>>>12)+c<<0;a+=(c^d&(b^c))+f[13]-1444681467;
a=(a<<5|a>>>27)+b<<0;d+=(b^c&(a^b))+f[2]-51403784;d=(d<<9|d>>>23)+a<<0;c+=(a^b&(d^a))+f[7]+1735328473;c=(c<<14|c>>>18)+d<<0;b+=(d^a&(c^d))+f[12]-1926607734;b=(b<<20|b>>>12)+c<<0;e=b^c;a+=(e^d)+f[5]-378558;a=(a<<4|a>>>28)+b<<0;d+=(e^a)+f[8]-2022574463;d=(d<<11|d>>>21)+a<<0;e=d^a;c+=(e^b)+f[11]+1839030562;c=(c<<16|c>>>16)+d<<0;b+=(e^c)+f[14]-35309556;b=(b<<23|b>>>9)+c<<0;e=b^c;a+=(e^d)+f[1]-1530992060;a=(a<<4|a>>>28)+b<<0;d+=(e^a)+f[4]+1272893353;d=(d<<11|d>>>21)+a<<0;e=d^a;c+=(e^b)+f[7]-155497632;
c=(c<<16|c>>>16)+d<<0;b+=(e^c)+f[10]-1094730640;b=(b<<23|b>>>9)+c<<0;e=b^c;a+=(e^d)+f[13]+681279174;a=(a<<4|a>>>28)+b<<0;d+=(e^a)+f[0]-358537222;d=(d<<11|d>>>21)+a<<0;e=d^a;c+=(e^b)+f[3]-722521979;c=(c<<16|c>>>16)+d<<0;b+=(e^c)+f[6]+76029189;b=(b<<23|b>>>9)+c<<0;e=b^c;a+=(e^d)+f[9]-640364487;a=(a<<4|a>>>28)+b<<0;d+=(e^a)+f[12]-421815835;d=(d<<11|d>>>21)+a<<0;e=d^a;c+=(e^b)+f[15]+530742520;c=(c<<16|c>>>16)+d<<0;b+=(e^c)+f[2]-995338651;b=(b<<23|b>>>9)+c<<0;a+=(c^(b|~d))+f[0]-198630844;a=(a<<6|a>>>26)+
b<<0;d+=(b^(a|~c))+f[7]+1126891415;d=(d<<10|d>>>22)+a<<0;c+=(a^(d|~b))+f[14]-1416354905;c=(c<<15|c>>>17)+d<<0;b+=(d^(c|~a))+f[5]-57434055;b=(b<<21|b>>>11)+c<<0;a+=(c^(b|~d))+f[12]+1700485571;a=(a<<6|a>>>26)+b<<0;d+=(b^(a|~c))+f[3]-1894986606;d=(d<<10|d>>>22)+a<<0;c+=(a^(d|~b))+f[10]-1051523;c=(c<<15|c>>>17)+d<<0;b+=(d^(c|~a))+f[1]-2054922799;b=(b<<21|b>>>11)+c<<0;a+=(c^(b|~d))+f[8]+1873313359;a=(a<<6|a>>>26)+b<<0;d+=(b^(a|~c))+f[15]-30611744;d=(d<<10|d>>>22)+a<<0;c+=(a^(d|~b))+f[6]-1560198380;c=(c<<
15|c>>>17)+d<<0;b+=(d^(c|~a))+f[13]+1309151649;b=(b<<21|b>>>11)+c<<0;a+=(c^(b|~d))+f[4]-145523070;a=(a<<6|a>>>26)+b<<0;d+=(b^(a|~c))+f[11]-1120210379;d=(d<<10|d>>>22)+a<<0;c+=(a^(d|~b))+f[2]+718787259;c=(c<<15|c>>>17)+d<<0;b+=(d^(c|~a))+f[9]-343485551;b=(b<<21|b>>>11)+c<<0;this.first?(this.h0=a+1732584193<<0,this.h1=b-271733879<<0,this.h2=c-1732584194<<0,this.h3=d+271733878<<0,this.first=!1):(this.h0=this.h0+a<<0,this.h1=this.h1+b<<0,this.h2=this.h2+c<<0,this.h3=this.h3+d<<0)};c.prototype.hex=function(){this.finalize();
var a=this.h0,b=this.h1,c=this.h2,d=this.h3;return g[a>>4&15]+g[a&15]+g[a>>12&15]+g[a>>8&15]+g[a>>20&15]+g[a>>16&15]+g[a>>28&15]+g[a>>24&15]+g[b>>4&15]+g[b&15]+g[b>>12&15]+g[b>>8&15]+g[b>>20&15]+g[b>>16&15]+g[b>>28&15]+g[b>>24&15]+g[c>>4&15]+g[c&15]+g[c>>12&15]+g[c>>8&15]+g[c>>20&15]+g[c>>16&15]+g[c>>28&15]+g[c>>24&15]+g[d>>4&15]+g[d&15]+g[d>>12&15]+g[d>>8&15]+g[d>>20&15]+g[d>>16&15]+g[d>>28&15]+g[d>>24&15]};c.prototype.toString=c.prototype.hex;c.prototype.digest=function(){this.finalize();var a=
this.h0,b=this.h1,c=this.h2,d=this.h3;return[a&255,a>>8&255,a>>16&255,a>>24&255,b&255,b>>8&255,b>>16&255,b>>24&255,c&255,c>>8&255,c>>16&255,c>>24&255,d&255,d>>8&255,d>>16&255,d>>24&255]};c.prototype.array=c.prototype.digest;c.prototype.arrayBuffer=function(){this.finalize();var a=new ArrayBuffer(16),b=new Uint32Array(a);b[0]=this.h0;b[1]=this.h1;b[2]=this.h2;b[3]=this.h3;return a};c.prototype.buffer=c.prototype.arrayBuffer;c.prototype.base64=function(){for(var a,b,c,d="",e=this.array(),f=0;15>f;)a=
e[f++],b=e[f++],c=e[f++],d+=n[a>>>2]+n[(a<<4|b>>>4)&63]+n[(b<<2|c>>>6)&63]+n[c&63];a=e[f];return d+=n[a>>>2]+n[a<<4&63]+"=="};m=function(){var a=q("hex");e&&(a=u(a));a.create=function(){return new c};a.update=function(b){return a.create().update(b)};for(var b=0;b<k.length;++b){var d=k[b];a[d]=q(d)}return a}();b?a.exports=m:d.md5=m})()}),yb=function(){function a(){Aa(this,a);this._compress=!0;this.reset()}Ba(a,[{key:"reset",value:function(){this._inputs=[];this._output=null;this._options={madeWith:"pixbincodec_js",
userObject:null,description:null}}},{key:"enableDataCompression",value:function(a){this._compress=a}},{key:"setOption",value:function(a,b){a in this._options&&(this._options[a]=b)}},{key:"addInput",value:function(a){La.isGoodCandidate(a)&&this._inputs.push(a)}},{key:"getOutput",value:function(){return this._output}},{key:"run",value:function(){if(this._inputs.length){var c=this,b=new Date,d=F.isPlatformLittleEndian(),e=new La,b={date:b.toISOString(),createdWith:this._options.madeWith,description:this._options.description,
userObject:this._options.userObject,pixblocksInfo:[]},f=[],g=b.pixblocksInfo;this._inputs.forEach(function(a,b){e.setInput(a);e.enableDataCompression(c._compress);e.run();var d=e.getOutput();d?(a={type:a.constructor.name,description:"description"in a._metadata?a._metadata.description:null,byteLength:d.byteLength,checksum:xb(d)},g.push(a),f.push(d)):console.warn("The input of index "+b+" could not be encoded as a PixBlock.")});f.length||console.warn("No input was compatible for PixBlock encoding.");
var b=F.objectToArrayBuffer(b),h=a.MAGIC_NUMBER(),p=new ArrayBuffer(h.length+5),k=new DataView(p);F.setString8InBuffer(h,p);k.setUint8(h.length,+d);k.setUint32(h.length+1,b.byteLength,d);d=[p,b].concat(f);this._output=F.mergeBuffers(d)}else console.warn("The encoder must be specified at least one input.")}}],[{key:"MAGIC_NUMBER",value:function(){return"PIXPIPE_PIXBIN"}}]);return a}(),Ub=function(){function a(){Aa(this,a);this._verifyChecksum=!1;this._binMeta=this._output=this._input=null;this._parsingInfo=
{offsetToReachFirstBlock:-1,isLittleEndian:-1};this._decodedBlocks={};this._isValid=!1;this.reset()}Ba(a,[{key:"setInput",value:function(a){this.reset();a instanceof ArrayBuffer&&(this._input=a,this._isValid=this._parseIndex())}},{key:"isValid",value:function(){return this._isValid}},{key:"getOutput",value:function(){return this._output}},{key:"getNumberOfBlocks",value:function(){return this._binMeta.pixblocksInfo.length}},{key:"getBinCreationDate",value:function(){return this._binMeta.date}},{key:"getBinDescription",
value:function(){return this._binMeta.description}},{key:"getBinUserObject",value:function(){return this._binMeta.userObject}},{key:"getBlockDescription",value:function(a){return 0>a||a>=this.getNumberOfBlocks()?(console.warn("The block index is out of range."),null):this._binMeta.pixblocksInfo[a].description}},{key:"getBlockType",value:function(a){return 0>a||a>=this.getNumberOfBlocks()?(console.warn("The block index is out of range."),null):this._binMeta.pixblocksInfo[a].type}},{key:"reset",value:function(){this._isValid=
!1;this._binMeta=this._output=this._input=null;this._parsingInfo={offsetToReachFirstBlock:-1,isLittleEndian:-1};this._decodedBlocks={}}},{key:"enableBlockVerification",value:function(a){this._verifyChecksum=a}},{key:"_parseIndex",value:function(){var a=this._input;if(!a)return console.warn("Input cannot be null"),!1;var b=a.byteLength,d=yb.MAGIC_NUMBER();if(b<d.length+5)return console.warn("This buffer does not match a PixBin file."),!1;var e=new DataView(a);if(F.getString8FromBuffer(a,d.length)!==
d)return console.warn("This file is not of PixBin type. (wrong magic number)"),!1;d=d.length;b=e.getUint8(d);if(0!=b&&1!=b)return console.warn("This file is not of PixBin type. (wrong endianess code)"),!1;d+=1;e=e.getUint32(d,b);d+=4;a=F.ArrayBufferToObject(a.slice(d,d+e));this._parsingInfo.offsetToReachFirstBlock=d+e;this._parsingInfo.isLittleEndian=b;this._binMeta=a;return!0}},{key:"fetchBlock",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,c=this.getNumberOfBlocks();
if(0>a||a>=c)return console.warn("The block index is out of range."),null;if(a in this._decodedBlocks&&!b)return this._decodedBlocks[a];b=this._parsingInfo.offsetToReachFirstBlock;for(c=0;c<a;c++)b+=this._binMeta.pixblocksInfo[c].byteLength;c=this._binMeta.pixblocksInfo[a];b=this._input.slice(b,b+c.byteLength);if(this._verifyChecksum&&xb(b)!==c.checksum)return console.warn("The block #"+a+" is corrupted."),null;c=new wb;c.setInput(b);c.run();b=c.getOutput();return b?this._decodedBlocks[a]=b:(console.warn("The block #"+
a+" could not be decoded."),null)}}]);return a}();h.PixBlockEncoder=La;h.PixBlockDecoder=wb;h.PixBinEncoder=yb;h.PixBinDecoder=Ub;Object.defineProperty(h,"__esModule",{value:!0})});
